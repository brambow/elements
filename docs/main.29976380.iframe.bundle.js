(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./.storybook/preview.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"allThemes",(function(){return allThemes})),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),client=(__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")),hooks=__webpack_require__("./node_modules/@storybook/store/dist/esm/hooks.js"),theme_ui_presets_esm=__webpack_require__("./node_modules/@theme-ui/presets/dist/theme-ui-presets.esm.js"),theme_ui_theme_provider_esm=__webpack_require__("./node_modules/@theme-ui/theme-provider/dist/theme-ui-theme-provider.esm.js");__webpack_require__("./node_modules/core-js/modules/es.parse-int.js");var themes_defaultTheme={colors:{text:"#000",background:"#fff",primary:"#2c5b67",secondary:"#668f9e",accent:"#1a363d",muted:"#f6f6f9",gray:"#dddddf",highlight:"hsla(205, 100%, 40%, 0.125)"},fonts:{body:"roboto, sans-serif",heading:"inherit",monospace:"Menlo, monospace"},fontSizes:[12,14,16,20,24,32,48,64,96],fontWeights:{body:400,heading:700,bold:700},lineHeights:{body:1.5,heading:1.25},space:[0,4,8,16,32,64,128,256,512],sizes:{avatar:48},radii:{default:4,circle:99999},shadows:{card:"0 0 4px "+function hexToRGB(hex,alpha){var r=parseInt(hex.slice(1,3),16),g=parseInt(hex.slice(3,5),16),b=parseInt(hex.slice(5,7),16);return alpha?"rgba("+r+", "+g+", "+b+", "+alpha+")":"rgb("+r+", "+g+", "+b+")"}("#2c5b67",.6)},text:{heading:{fontFamily:"heading",lineHeight:"heading",fontWeight:"heading"},display:{fontFamily:"heading",fontWeight:"heading",lineHeight:"heading",fontSize:[5,6,7]},caps:{textTransform:"uppercase",letterSpacing:"0.1em"}},variants:{avatar:{width:"avatar",height:"avatar",borderRadius:"circle"},card:{p:2,bg:"background",boxShadow:"card"},link:{color:"primary"},nav:{fontSize:1,fontWeight:"bold",display:"inline-block",p:2,color:"inherit",textDecoration:"none","&:hover,&:focus,.active":{color:"primary"}}},buttons:{primary:{fontSize:1,fontWeight:"bold",color:"background",bg:"primary",boxShadow:"0 2 4px rgba(0, 0, 0, .125)","&:hover":{cursor:"pointer",bg:"secondary"},"&:disabled":{bg:"gray"}},circle:{variant:"buttons.primary",borderRadius:"circle"},outline:{variant:"buttons.primary",color:"primary",bg:"transparent",boxShadow:"inset 0 0 2px","&:hover":{cursor:"pointer",color:"background",bg:"primary"}},secondary:{variant:"buttons.primary",color:"background",bg:"secondary"}},alerts:{modal:{backgroundColor:"background",color:"text",margin:"0.5rem",position:"absolute",left:"50%",top:"25%",transform:"translate(-50%, -50%)"}},styles:{root:{fontFamily:"body",fontWeight:"body",lineHeight:"body"}}},emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var allThemes=Object.assign({defaultTheme:themes_defaultTheme},theme_ui_presets_esm),preview_Provider=function Provider(_ref){var children=_ref.children,theme=_ref.theme;return Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_theme_provider_esm.a,{theme:theme?allThemes[theme]:themes_defaultTheme,children:children})};preview_Provider.displayName="Provider";var parameters={layout:"fullscreen"};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object(client.addDecorator)((function(Story){var currentThemeName=_slicedToArray(Object(hooks.c)("currentTheme"),1)[0];return Object(emotion_react_jsx_runtime_browser_esm.b)(preview_Provider,{theme:currentThemeName,children:Object(emotion_react_jsx_runtime_browser_esm.b)(Story,{})})})),Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(ClientApi.d)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.e)(loader,!1)}));case"parameters":return Object(ClientApi.f)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.b)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"render":return Object(ClientApi.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.f)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./generated-stories-entry.js":function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src/components sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.js)$")],module,!1)}).call(this,__webpack_require__("./node_modules/webpack/buildin/module.js")(module))},"./src/DefaultContext.js":function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),DefaultContext=Object(react__WEBPACK_IMPORTED_MODULE_0__.createContext)({});__webpack_exports__.a=DefaultContext},"./src/components sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.js)$":function(module,exports,__webpack_require__){var map={"./AddData/AddData.stories.js":"./src/components/AddData/AddData.stories.js","./BasemapSwitcher/BasemapSwitcher.stories.js":"./src/components/BasemapSwitcher/BasemapSwitcher.stories.js","./Bookmarks/Bookmarks.stories.js":"./src/components/Bookmarks/Bookmarks.stories.js","./Draw/Draw.stories.js":"./src/components/Draw/Draw.stories.js","./Home/Home.stories.js":"./src/components/Home/Home.stories.js","./LayerList/LayerList.stories.js":"./src/components/LayerList/LayerList.stories.js","./Map/Map.stories.js":"./src/components/Map/Map.stories.js","./MapInfo/MapInfo.stories.js":"./src/components/MapInfo/MapInfo.stories.js","./MapPopup/MapPopup.stories.js":"./src/components/MapPopup/MapPopup.stories.js","./Measure/Measure.stories.js":"./src/components/Measure/Measure.stories.js","./ScaleBar/ScaleBar.stories.js":"./src/components/ScaleBar/ScaleBar.stories.js","./Search/Search.stories.js":"./src/components/Search/Search.stories.js","./Select/Select.stories.js":"./src/components/Select/Select.stories.js","./Zoom/Zoom.stories.js":"./src/components/Zoom/Zoom.stories.js"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src/components sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.js)$"},"./src/components/AddData/AddData.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js"),theme_ui_components_esm=__webpack_require__("./node_modules/@theme-ui/components/dist/theme-ui-components.esm.js"),es=__webpack_require__("./node_modules/@turf/bbox/dist/es/index.js"),index_esm=__webpack_require__("./node_modules/react-icons/md/index.esm.js"),List=__webpack_require__("./src/components/_primitives/List.js"),ListItem=__webpack_require__("./src/components/_primitives/ListItem.js"),BaseComponent=__webpack_require__("./src/components/_common/BaseComponent.js"),DefaultContext=__webpack_require__("./src/DefaultContext.js"),mapExists=__webpack_require__("./src/util/mapExists.js"),csv2geojson=(__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.string.trim.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/csv2geojson/index.js")),csv2geojson_default=__webpack_require__.n(csv2geojson),togeojson_umd=__webpack_require__("./node_modules/@tmcw/togeojson/dist/togeojson.umd.js"),togeojson_umd_default=__webpack_require__.n(togeojson_umd),lib=__webpack_require__("./node_modules/shpjs/lib/index.js"),lib_default=__webpack_require__.n(lib);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var importer_config_maxFileSize=1e8,importer_Importer=function(){function Importer(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Importer),this.reader=new FileReader,this.reader.onload=this.handleFile.bind(this)}var _handleSHP;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(Importer,[{key:"load",value:function load(file,cb){if(!file)throw new Error("File Required");if(!cb)throw new Error("Callback Required");this.cb=cb,this.file=file,this.fileExt=this.getExtension(),this.fileDetails={fileSize:this.file.size,fileName:this.file.name,fileExt:this.fileExt},this.file.size>=importer_config_maxFileSize?cb({error:"File must be less than 20mb",fileDetails:this.fileDetails}):"zip"===this.fileExt.toLowerCase()?this.reader.readAsArrayBuffer(this.file):this.reader.readAsText(this.file,"UTF-8")}},{key:"getExtension",value:function getExtension(){var fArr=this.file.name.split(".");return fArr[fArr.length-1]}},{key:"handleFile",value:function handleFile(evt){switch(this.fileExt.toLowerCase()){case"csv":this.handleCSV(evt);break;case"kml":this.handleKML(evt);break;case"geojson":case"json":this.handleJSON(evt);break;case"gpx":this.handleGPX(evt);break;case"zip":this.handleSHP(evt);break;default:this.notRecognized()}}},{key:"handleJSON",value:function handleJSON(evt){try{this.handleGeoJSON(evt)}catch(err){this.cb({error:"Problem parsing JSON ("+err.toString()+")",fileDetails:this.fileDetails})}}},{key:"handleCSV",value:function handleCSV(evt){var latitude,longitude,_this=this,latitudes=["y","lat","latitude"],longitudes=["x","lng","lon","long","longitude"],csv=evt.target.result;if(csv.split("\n")[0].split(",").forEach((function(column){-1!==latitudes.indexOf(column.toLowerCase().trim())&&(latitude=column.trim()),-1!==longitudes.indexOf(column.toLowerCase().trim())&&(longitude=column.trim())})),!longitude||!latitude)throw new Error("no latitude (y, lat, latitude) or longitude (x, lng, long, longitude) field found");csv2geojson_default.a.csv2geojson(csv,{latfield:latitude,lonfield:longitude},(function(err,data){if(err)throw err;_this.cb(_this.fileDetails,data)}))}},{key:"handleKML",value:function handleKML(evt){var xml=(new window.DOMParser).parseFromString(evt.target.result,"application/xml"),geojson=togeojson_umd_default.a.kml(xml,{style:!0});this.cb(this.fileDetails,geojson)}},{key:"handleGeoJSON",value:function handleGeoJSON(evt){this.cb(this.fileDetails,JSON.parse(evt.target.result))}},{key:"handleGPX",value:function handleGPX(evt){var xml=(new window.DOMParser).parseFromString(evt.target.result,"application/xml"),geojson=togeojson_umd_default.a.gpx(xml);this.cb(this.fileDetails,geojson)}},{key:"handleSHP",value:(_handleSHP=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(evt){var geojson;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,lib_default.a.parseZip(evt.target.result);case 2:geojson=_context.sent,this.cb(this.fileDetails,geojson);case 4:case"end":return _context.stop()}}),_callee,this)}))),function handleSHP(_x){return _handleSHP.apply(this,arguments)})},{key:"notRecognized",value:function notRecognized(){console.log("sorry, i didnt recognize this format"),this.cb({error:"File format "+this.fileExt+" not recognized.",fileDetails:this.fileDetails})}}]),Importer}(),importer=importer_Importer,emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),_excluded=["baseType","buttonOptions","sx"];function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var AddData_importer=new importer,AddData_AddData=function AddData(_ref){var baseType=_ref.baseType,buttonOptions=_ref.buttonOptions,sx=_ref.sx,rest=_objectWithoutProperties(_ref,_excluded),map=Object(react.useContext)(DefaultContext.a).map,_useState2=_slicedToArray(Object(react.useState)("file"),2),tab=_useState2[0],setTab=_useState2[1],_useState4=_slicedToArray(Object(react.useState)([]),2),tmpLayers=_useState4[0],setTmpLayers=_useState4[1],addMapSource=function addMapSource(fileDetails,geojson){if(geojson&&fileDetails){var sourceId=fileDetails.fileName;map.addSource(sourceId,{type:"geojson",data:geojson}),function addLayer(sourceId,geojson){function setType(geomType){var type;switch(geomType){case"Point":case"MultiPoint":type="circle";break;case"LineString":case"MultiLineString":type="line";break;case"Polygon":case"MultiPolygon":type="fill";break;default:return""}return type}function setPaint(geomType){var paint;switch(geomType){case"Point":case"MultiPoint":paint={"circle-radius":6,"circle-color":"#B42222","circle-opacity":.6};break;case"LineString":case"MultiLineString":paint={"line-color":"#888","line-width":8};break;case"Polygon":case"MultiPolygon":paint={"fill-color":"#088","fill-opacity":.8};break;default:return null}return paint}function setFilter(geomType){var filter;switch(geomType){case"Point":case"MultiPoint":filter=["==","$type","Point"];break;case"LineString":case"MultiLineString":filter=["==","$type","LineString"];break;case"Polygon":case"MultiPolygon":filter=["==","$type","Polygon"];break;default:return null}return filter}var geomTypes=[];geojson.features.map((function(feature){-1===geomTypes.indexOf(feature.geometry.type)&&geomTypes.push(feature.geometry.type)})),geomTypes.forEach((function(type){var layerId=sourceId+"-"+type;map.addLayer({id:layerId,type:setType(type),source:sourceId,paint:setPaint(type),filter:setFilter(type),layout:{visibility:"visible"}}),setTmpLayers([].concat(_toConsumableArray(tmpLayers),[layerId]))}))}(sourceId,geojson),function zoomToLayer(geojson){var bounds=Object(es.default)(geojson);map.fitBounds(bounds)}(geojson)}},Tabs=function Tabs(){return Object(emotion_react_jsx_runtime_browser_esm.c)(theme_ui_components_esm.h,{sx:{justifyContent:"center",paddingBottom:"0.5rem"},children:[Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.c,{sx:{width:"50%",bg:"transparent",color:"text",borderStyle:"solid",borderRadius:0,borderTopWidth:0,borderLeftWidth:0,borderRightWidth:".5px",borderBottomWidth:"0.5px",boxShadow:"none",":hover":{bg:"primary",color:"background"}},onClick:function onClick(){setTab("file")},children:"File"}),Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.c,{sx:{width:"50%",bg:"transparent",color:"text",borderStyle:"solid",borderRadius:0,borderTopWidth:0,borderRightWidth:0,borderBottomWidth:"0.5px",boxShadow:"none",":hover":{bg:"primary",color:"background"}},onClick:function onClick(){setTab("url")},children:"URL"})]})},ManageLayers=function ManageLayers(){return Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.b,{sx:{textAlign:"center",marginTop:"0.5rem"},children:function content(){return Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.h,{sx:{justifyContent:"flex-end"},children:Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.c,{sx:{fontSize:0,textDecoration:"underline",color:"primary",backgroundColor:"background",":hover":{backgroundColor:"background"}},onClick:function onClick(e){e.preventDefault(),setTab("layers")},children:"Manage Layers"})})}()})},FileBody=function FileBody(){var supportedFileExt=[".geojson",".kml",".gpx",".csv",".zip (shp)"];return Object(emotion_react_jsx_runtime_browser_esm.c)("div",{children:[Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.b,{sx:{textAlign:"center"},children:function supported(){var subtitle=supportedFileExt.join(", ");return Object(emotion_react_jsx_runtime_browser_esm.c)(theme_ui_components_esm.b,{children:[Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.t,{sx:{fontSize:0},children:"Supported File Extensions:"}),Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.t,{sx:{fontSize:0},children:subtitle}),Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.m,{sx:{textAlign:"center",paddingTop:1,marginTop:2,border:"none",">button":{boxShadow:"none"}},type:"file",className:"file-upload",onChange:function onChange(e){!function loadFile(e){try{AddData_importer.load(e.target.files[0],addMapSource)}catch(err){console.warn(err)}}(e)}})]})}()}),Object(emotion_react_jsx_runtime_browser_esm.b)(ManageLayers,{})]})},UrlBody=function UrlBody(){return Object(emotion_react_jsx_runtime_browser_esm.c)("div",{children:[Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.m,{placeholder:"Paste URL Here"}),Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.c,{css:{marginTop:"0.5rem"},children:"Add Layer"}),Object(emotion_react_jsx_runtime_browser_esm.b)(ManageLayers,{})]})},TabBody=function TabBody(){return Object(emotion_react_jsx_runtime_browser_esm.c)("div",{styles:{width:"100%"},children:[Object(emotion_react_jsx_runtime_browser_esm.b)(Tabs,{}),"file"===tab?Object(emotion_react_jsx_runtime_browser_esm.b)(FileBody,{}):Object(emotion_react_jsx_runtime_browser_esm.b)(UrlBody,{})]})},LayerBody=function LayerBody(){return Object(emotion_react_jsx_runtime_browser_esm.c)("div",{style:{width:"100%"},children:[Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.c,{sx:{fontSize:0,textDecoration:"underline",color:"primary",backgroundColor:"background",":hover":{backgroundColor:"background"}},onClick:function onClick(e){e.preventDefault(),setTab("file")},children:"<< Back"}),Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.b,{sx:{marginTop:"0.5rem"},content:Object(emotion_react_jsx_runtime_browser_esm.b)(List.a,{children:function items(){var isVisible=function isVisible(layerId){return"none"!==map.getLayoutProperty(layerId,"visibility")};return tmpLayers.map((function(layerId,i){return Object(emotion_react_jsx_runtime_browser_esm.c)(ListItem.a,{children:[" ",Object(emotion_react_jsx_runtime_browser_esm.c)(theme_ui_components_esm.n,{children:[Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.e,{onChange:function onChange(){!function handleChange(layerId){isVisible(layerId)?map.setLayoutProperty(layerId,"visibility","none"):map.setLayoutProperty(layerId,"visibility","visible")}(layerId)},defaultChecked:isVisible(layerId)}),Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.t,{pt:1,children:layerId})]})]},layerId+"-"+i)}))}()})})]})};return Object(mapExists.a)(map)?Object(emotion_react_jsx_runtime_browser_esm.b)(BaseComponent.a,Object.assign({baseType:baseType,buttonOptions:Object.assign({icon:Object(emotion_react_jsx_runtime_browser_esm.b)(index_esm.b,{}),title:"Add Data",testId:"add-data-btn"},buttonOptions),sx:sx},rest,{children:Object(emotion_react_jsx_runtime_browser_esm.b)((function Body(){return Object(emotion_react_jsx_runtime_browser_esm.b)("div",{style:{width:"100%"},children:"layers"===tab?Object(emotion_react_jsx_runtime_browser_esm.b)(LayerBody,{}):Object(emotion_react_jsx_runtime_browser_esm.b)(TabBody,{})})}),{})})):null};AddData_AddData.displayName="AddData",AddData_AddData.__docgenInfo={description:"",methods:[],displayName:"AddData"};__webpack_exports__.a=AddData_AddData;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/AddData/AddData.js"]={name:"AddData",docgenInfo:AddData_AddData.__docgenInfo,path:"src/components/AddData/AddData.js"})},"./src/components/AddData/AddData.stories.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__("./node_modules/react/index.js");var _AddData__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/AddData/AddData.js"),_Map_Map__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Map/Map.js"),_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/_common/ElementsProvider.js"),_storybook_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js"),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@storybook/addon-knobs/dist/index.js"),_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__("./node_modules/mapbox-gl/dist/mapbox-gl.css"),__webpack_require__("./src/util/mockMapOptions.js")),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),__STORY__="import React from 'react';\nimport AddData from './AddData';\nimport Map from '../Map/Map';\nimport ElementsProvider from '../_common/ElementsProvider';\nimport { storiesOf } from '@storybook/react';\nimport { withKnobs, radios } from '@storybook/addon-knobs';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport mapOptions from '../../util/mockMapOptions';\n\nstoriesOf('AddData', module)\n  .addDecorator(withKnobs)\n  .add('Default', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={mapOptions}></Map>\n        <AddData\n          baseType={radios('baseType', ['none', 'panel', 'button'], 'panel')}\n        />\n      </ElementsProvider>\n    );\n  });\n",__LOCATIONS_MAP__={default:{startLoc:{col:7,line:12},endLoc:{col:3,line:21},startBody:{col:18,line:12},endBody:{col:3,line:21}}};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_4__.storiesOf)("AddData",module).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_5__.withKnobs).add("Default",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_3__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_2__.a,{mapOptions:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__.a}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.b)(_AddData__WEBPACK_IMPORTED_MODULE_1__.a,{baseType:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_5__.radios)("baseType",["none","panel","button"],"panel")})]})}))}.call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/components/BasemapSwitcher/BasemapSwitcher.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js"),theme_ui_components_esm=__webpack_require__("./node_modules/@theme-ui/components/dist/theme-ui-components.esm.js"),index_esm=__webpack_require__("./node_modules/react-icons/fa/index.esm.js"),DefaultContext=__webpack_require__("./src/DefaultContext.js"),mapExists=__webpack_require__("./src/util/mapExists.js"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),RadioGroupItem_RadioGroupItem=function RadioGroupItem(props){var name=props.name,item=props.item,defaultChecked=props.defaultChecked,checkedChanged=props.checkedChanged;return Object(emotion_react_jsx_runtime_browser_esm.c)(theme_ui_components_esm.n,Object.assign({className:"cl-radio-group-item"},props,{sx:{fontSize:"12px",marginRight:"2px",">span":{paddingTop:"3px"}},children:[Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.p,{color:"primary",name:name,id:item.name,value:item.value,defaultChecked:defaultChecked,sx:{"input:checked ~ &":{color:"primary"},"input:focus ~ &":{bg:"highlight"}},onChange:function onChange(e){return checkedChanged(e,item)}}),Object(emotion_react_jsx_runtime_browser_esm.b)("span",{children:item.label})]}))};RadioGroupItem_RadioGroupItem.displayName="RadioGroupItem",RadioGroupItem_RadioGroupItem.__docgenInfo={description:"",methods:[],displayName:"RadioGroupItem"};var _primitives_RadioGroupItem=RadioGroupItem_RadioGroupItem;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/_primitives/RadioGroupItem.js"]={name:"RadioGroupItem",docgenInfo:RadioGroupItem_RadioGroupItem.__docgenInfo,path:"src/components/_primitives/RadioGroupItem.js"});var childrenExist=__webpack_require__("./src/util/childrenExist.js"),RadioGroup_RadioGroup=function RadioGroup(props){var children=props.children,items=props.items,name=props.name,checkedValueChange=props.checkedValueChange,style={bg:"transparent",color:"primary",display:"flex",padding:0};return Object(childrenExist.a)(children)?Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.b,Object.assign({},props,{className:"cl-radio-group",sx:style,children:children})):Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.b,Object.assign({},props,{className:"cl-radio-group",sx:style,children:items.map((function(item){return Object(emotion_react_jsx_runtime_browser_esm.b)(_primitives_RadioGroupItem,{name:name,item:item,defaultChecked:item.checked,checkedChanged:checkedValueChange},item.value)}))}))};RadioGroup_RadioGroup.displayName="RadioGroup",RadioGroup_RadioGroup.__docgenInfo={description:"@class RadioGroup\n@param {Array} items\n@param {String} name\n@param {String} checkedValue\n@param {Func} checkedValueChange",methods:[],displayName:"RadioGroup"};var _primitives_RadioGroup=RadioGroup_RadioGroup;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/_primitives/RadioGroup.js"]={name:"RadioGroup",docgenInfo:RadioGroup_RadioGroup.__docgenInfo,path:"src/components/_primitives/RadioGroup.js"});var ButtonGroup=__webpack_require__("./src/components/_primitives/ButtonGroup.js"),BaseComponent=__webpack_require__("./src/components/_common/BaseComponent.js"),_excluded=["switcherStyle","basemaps","preserveLayers","baseType","buttonOptions","sx"];function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var BasemapSwitcher_BasemapSwitcher=function BasemapSwitcher(_ref){var switcherStyle=_ref.switcherStyle,basemaps=_ref.basemaps,preserveLayers=_ref.preserveLayers,baseType=_ref.baseType,buttonOptions=_ref.buttonOptions,sx=_ref.sx,rest=_objectWithoutProperties(_ref,_excluded),_useState2=_slicedToArray(Object(react.useState)(basemaps?basemaps[0].value:"streets-v11"),2),basemapValue=_useState2[0],setBasemapValue=_useState2[1],map=Object(react.useContext)(DefaultContext.a).map,didMountRef=Object(react.useRef)(!1),handleChange=function handleChange(e,props){setBasemapValue(props.value)};Object(react.useEffect)((function(){didMountRef.current?map.setStyle("mapbox://styles/mapbox/"+basemapValue):didMountRef.current=!0}),[basemapValue]),Object(react.useEffect)((function(){Object(mapExists.a)(map)&&map.on("load",(function(){map.setStyle("mapbox://styles/mapbox/"+basemapValue),map.on("styledata",(function(){!function waiting(){if(map.isStyleLoaded())for(var i=0;i<(null==preserveLayers?void 0:preserveLayers.length);i+=1){var p=preserveLayers[i];map.getSource(p.layer.source)||(map.addSource(p.layer.source,p.source),map.addLayer(p.layer))}else setTimeout(waiting,200)}()}))}))}),[map]);var switcher,basemapOptions=basemaps||[{name:"streets",key:"streets",label:"Streets",value:"streets-v11",checked:!0},{name:"terrain",key:"terrain",label:"Terrain",value:"outdoors-v11"},{name:"satellite",key:"satellite",label:"Satellite",value:"satellite-streets-v9"}];switch(switcherStyle){case"radio":default:switcher=Object(emotion_react_jsx_runtime_browser_esm.b)(_primitives_RadioGroup,{items:basemapOptions,name:"basemaps",checkedValueChange:handleChange});break;case"buttons":var buttons=basemapOptions.map((function(item){return Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.c,{onClick:function onClick(e){return handleChange(0,item)},children:item.label},item.label)}));switcher=Object(emotion_react_jsx_runtime_browser_esm.b)(ButtonGroup.a,{buttons:buttons})}return Object(emotion_react_jsx_runtime_browser_esm.b)(BaseComponent.a,Object.assign({baseType:baseType,buttonOptions:Object.assign({icon:Object(emotion_react_jsx_runtime_browser_esm.b)(index_esm.i,{}),title:"Basemap Switcher",testId:"cl-basemap-btn"},buttonOptions)},rest,{sx:sx,className:"cl-basemap-switcher",children:switcher}))};BasemapSwitcher_BasemapSwitcher.displayName="BasemapSwitcher",BasemapSwitcher_BasemapSwitcher.__docgenInfo={description:"@class BasemapSwitcher",methods:[],displayName:"BasemapSwitcher"};__webpack_exports__.a=BasemapSwitcher_BasemapSwitcher;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BasemapSwitcher/BasemapSwitcher.js"]={name:"BasemapSwitcher",docgenInfo:BasemapSwitcher_BasemapSwitcher.__docgenInfo,path:"src/components/BasemapSwitcher/BasemapSwitcher.js"})},"./src/components/BasemapSwitcher/BasemapSwitcher.stories.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js");var react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),_BasemapSwitcher__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/BasemapSwitcher/BasemapSwitcher.js"),_Map_Map__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/Map/Map.js"),_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/_common/ElementsProvider.js"),_storybook_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js"),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@storybook/addon-knobs/dist/index.js"),_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_10__=(__webpack_require__("./node_modules/mapbox-gl/dist/mapbox-gl.css"),__webpack_require__("./src/util/mockMapOptions.js")),_util_mapExists__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/util/mapExists.js"),_util_useElements__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/util/useElements.js"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),__STORY__="import React, { useEffect } from 'react';\nimport BasemapSwitcher from './BasemapSwitcher';\nimport Map from '../Map/Map';\nimport ElementsProvider from '../_common/ElementsProvider';\nimport { storiesOf } from '@storybook/react';\nimport { withKnobs, radios } from '@storybook/addon-knobs';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport mapOptions from '../../util/mockMapOptions';\nimport mapExists from '../../util/mapExists';\nimport useElements from '../../util/useElements';\n\nconst customLayers = [\n  {\n    source: {\n      type: 'geojson',\n      data:\n        'https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_110m_admin_1_states_provinces_shp.geojson'\n    },\n    layer: {\n      id: 'states',\n      source: 'states',\n      type: 'line',\n      paint: {\n        'line-color': 'red',\n        'line-width': 2\n      }\n    }\n  }\n];\n\nconst customMapOptions = Object.assign({}, mapOptions, {\n  center: [-100.207672, 39.581878],\n  zoom: 3,\n  bounds: null\n});\n\nstoriesOf('BasemapSwitcher', module)\n  .addDecorator(withKnobs)\n  .add('Default', () => {\n    const App = () => {\n      const { map } = useElements();\n      useEffect(() => {\n        if (mapExists(map)) {\n          map.on('load', () => {\n            customLayers.forEach(customLayer => {\n              map.addSource(customLayer.layer.source, customLayer.source);\n              map.addLayer(customLayer.layer);\n            });\n          });\n        }\n      }, [map]);\n      return (\n        <React.Fragment>\n          <Map mapOptions={customMapOptions} />\n          <BasemapSwitcher\n            preserveLayers={customLayers}\n            baseType={radios('baseType', ['none', 'panel', 'button'], 'panel')}\n            switcherStyle={radios('switcherStyle', ['radio', 'buttons'], 'radio')}\n          />\n        </React.Fragment>\n      );\n    };\n    return (\n      <ElementsProvider>\n        <App />\n      </ElementsProvider>\n    );\n  })\n  .add('User Defined Maps', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={mapOptions} />\n        <BasemapSwitcher\n          baseType={radios('baseType', ['none', 'panel', 'button'], 'panel')}\n          basemaps={[\n            {\n              name: 'light',\n              key: 'light',\n              label: 'Light',\n              value: 'light-v10'\n            },\n            {\n              name: 'dark',\n              key: 'dark',\n              label: 'Dark',\n              value: 'dark-v10'\n            }\n          ]}\n          switcherStyle={radios('switcherStyle', ['radio', 'buttons'], 'radio')}\n        />\n      </ElementsProvider>\n    );\n  });\n",__LOCATIONS_MAP__={"user-defined-maps":{startLoc:{col:7,line:69},endLoc:{col:3,line:93},startBody:{col:28,line:69},endBody:{col:3,line:93}},default:{startLoc:{col:7,line:39},endLoc:{col:3,line:68},startBody:{col:18,line:39},endBody:{col:3,line:68}}},customLayers=[{source:{type:"geojson",data:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_110m_admin_1_states_provinces_shp.geojson"},layer:{id:"states",source:"states",type:"line",paint:{"line-color":"red","line-width":2}}}],customMapOptions=Object.assign({},_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_10__.a,{center:[-100.207672,39.581878],zoom:3,bounds:null});Object(_storybook_react__WEBPACK_IMPORTED_MODULE_7__.storiesOf)("BasemapSwitcher",module).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_8__.withKnobs).add("Default",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.b)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_6__.a,{children:Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.b)((function App(){var map=Object(_util_useElements__WEBPACK_IMPORTED_MODULE_12__.a)().map;return Object(react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((function(){Object(_util_mapExists__WEBPACK_IMPORTED_MODULE_11__.a)(map)&&map.on("load",(function(){customLayers.forEach((function(customLayer){map.addSource(customLayer.layer.source,customLayer.source),map.addLayer(customLayer.layer)}))}))}),[map]),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.c)(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_5__.a,{mapOptions:customMapOptions}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.b)(_BasemapSwitcher__WEBPACK_IMPORTED_MODULE_4__.a,{preserveLayers:customLayers,baseType:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_8__.radios)("baseType",["none","panel","button"],"panel"),switcherStyle:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_8__.radios)("switcherStyle",["radio","buttons"],"radio")})]})}),{})})})).add("User Defined Maps",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_6__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_5__.a,{mapOptions:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_10__.a}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.b)(_BasemapSwitcher__WEBPACK_IMPORTED_MODULE_4__.a,{baseType:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_8__.radios)("baseType",["none","panel","button"],"panel"),basemaps:[{name:"light",key:"light",label:"Light",value:"light-v10"},{name:"dark",key:"dark",label:"Dark",value:"dark-v10"}],switcherStyle:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_8__.radios)("switcherStyle",["radio","buttons"],"radio")})]})}))}.call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/components/Bookmarks/Bookmarks.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/react/index.js"),theme_ui__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/@theme-ui/components/dist/theme-ui-components.esm.js"),react_icons_fa__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/react-icons/fa/index.esm.js"),_common_BaseComponent__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./src/components/_common/BaseComponent.js"),_DefaultContext__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./src/DefaultContext.js"),_util_bookmarkActions__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./src/components/Bookmarks/util/bookmarkActions.js"),_primitives_ListItem__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./src/components/_primitives/ListItem.js"),_primitives_List__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./src/components/_primitives/List.js"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),_excluded=["baseType","buttonOptions","sx"];function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Bookmarks=function Bookmarks(_ref){var baseType=_ref.baseType,buttonOptions=_ref.buttonOptions,sx=_ref.sx,rest=_objectWithoutProperties(_ref,_excluded),_goToBookmark$_loadBo={_goToBookmark:Object.hasOwnProperty.call(rest,"goToBookmark")?rest.goToBookmark:_util_bookmarkActions__WEBPACK_IMPORTED_MODULE_20__.b,_loadBookmarks:Object.hasOwnProperty.call(rest,"loadBookmarks")?rest.loadBookmarks:_util_bookmarkActions__WEBPACK_IMPORTED_MODULE_20__.c,_deleteBookmark:Object.hasOwnProperty.call(rest,"deleteBookmark")?rest.deleteBookmark:_util_bookmarkActions__WEBPACK_IMPORTED_MODULE_20__.a,_saveBookmark:Object.hasOwnProperty.call(rest,"saveBookmark")?rest.saveBookmark:_util_bookmarkActions__WEBPACK_IMPORTED_MODULE_20__.d},_goToBookmark=_goToBookmark$_loadBo._goToBookmark,_loadBookmarks=_goToBookmark$_loadBo._loadBookmarks,_deleteBookmark=_goToBookmark$_loadBo._deleteBookmark,_saveBookmark=_goToBookmark$_loadBo._saveBookmark,map=Object(react__WEBPACK_IMPORTED_MODULE_15__.useContext)(_DefaultContext__WEBPACK_IMPORTED_MODULE_19__.a).map,existingBookmarks=JSON.parse(_loadBookmarks())||[],_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)(""),2),bookmarkName=_useState2[0],setBookmarkName=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)(existingBookmarks),2),bookmarks=_useState4[0],setBookmarks=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)([]),2),bookmarkListItems=_useState6[0],setBookmarkListItems=_useState6[1];Object(react__WEBPACK_IMPORTED_MODULE_15__.useEffect)((function(){var listItems=bookmarks.map((function(bkmk){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.b)(_primitives_ListItem__WEBPACK_IMPORTED_MODULE_21__.a,{selectable:!0,children:Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.c)(theme_ui__WEBPACK_IMPORTED_MODULE_16__.h,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.c)(theme_ui__WEBPACK_IMPORTED_MODULE_16__.b,{onClick:function onClick(){_goToBookmark(map,bkmk)},sx:{flex:"1 1 auto"},children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.b)(react_icons_fa__WEBPACK_IMPORTED_MODULE_17__.a,{}),bkmk.name]}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.b)(theme_ui__WEBPACK_IMPORTED_MODULE_16__.b,{children:Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.b)(react_icons_fa__WEBPACK_IMPORTED_MODULE_17__.p,{onClick:function onClick(){_deleteBookmark(bkmk,setBookmarks)}})})]})},bkmk.name)}));setBookmarkListItems(listItems)}),[map,bookmarks]);var toolText=Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.b)(theme_ui__WEBPACK_IMPORTED_MODULE_16__.t,{children:"Save the current view or choose a Bookmark below to return to a saved view."}),form=Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.c)(theme_ui__WEBPACK_IMPORTED_MODULE_16__.h,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.b)(theme_ui__WEBPACK_IMPORTED_MODULE_16__.m,{value:bookmarkName,onChange:function onChange(e){setBookmarkName(e.currentTarget.value)}}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.b)(theme_ui__WEBPACK_IMPORTED_MODULE_16__.c,{sx:{borderTopLeftRadius:0,borderBottomLeftRadius:0,marginLeft:"-0.175rem"},onClick:function onClick(){_saveBookmark(map,bookmarkName,setBookmarks),setBookmarkName("")},children:"Save"})]});return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.b)(_common_BaseComponent__WEBPACK_IMPORTED_MODULE_18__.a,Object.assign({baseType:baseType,buttonOptions:Object.assign({icon:Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.b)(react_icons_fa__WEBPACK_IMPORTED_MODULE_17__.a,{}),title:"Bookmarks",testId:"bookmark-btn"},buttonOptions),sx:sx},rest,{children:Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.c)(theme_ui__WEBPACK_IMPORTED_MODULE_16__.b,{children:[toolText,form,Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.b)(_primitives_List__WEBPACK_IMPORTED_MODULE_22__.a,{children:bookmarkListItems})]})}))};Bookmarks.displayName="Bookmarks",Bookmarks.__docgenInfo={description:"",methods:[],displayName:"Bookmarks"},__webpack_exports__.a=Bookmarks,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Bookmarks/Bookmarks.js"]={name:"Bookmarks",docgenInfo:Bookmarks.__docgenInfo,path:"src/components/Bookmarks/Bookmarks.js"})},"./src/components/Bookmarks/Bookmarks.stories.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__("./node_modules/react/index.js");var _Bookmarks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Bookmarks/Bookmarks.js"),_Map_Map__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Map/Map.js"),_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/_common/ElementsProvider.js"),_storybook_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js"),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@storybook/addon-knobs/dist/index.js"),_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__("./node_modules/mapbox-gl/dist/mapbox-gl.css"),__webpack_require__("./src/util/mockMapOptions.js")),_util_bookmarkActions__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/Bookmarks/util/bookmarkActions.js"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),__STORY__="import React from 'react';\nimport Bookmarks from './Bookmarks';\nimport Map from '../Map/Map';\nimport ElementsProvider from '../_common/ElementsProvider';\nimport { storiesOf } from '@storybook/react';\nimport { withKnobs, radios } from '@storybook/addon-knobs';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport mapOptions from '../../util/mockMapOptions';\nimport {\n  loadBookmarks,\n  deleteBookmark,\n  saveBookmark\n} from './util/bookmarkActions';\n\nconst goToBookmark = (map, bookmark) => {\n  map.flyTo({\n    center: bookmark.center,\n    zoom: bookmark.zoom,\n    bearing: 0,\n    speed: 0.5,\n    curve: 1.7,\n    easing: function (t) {\n      return t;\n    },\n    essential: true\n  });\n  return true;\n};\n\nstoriesOf('Bookmarks', module)\n  .addDecorator(withKnobs)\n  .add('Default', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={mapOptions} />\n        <Bookmarks\n          baseType={radios('baseType', ['none', 'panel', 'button'], 'panel')}\n        />\n      </ElementsProvider>\n    );\n  })\n  .add('Custom actions', () => {\n    return (\n      <ElementsProvider>\n        <Bookmarks\n          baseType={radios('baseType', ['none', 'panel', 'button'], 'panel')}\n          goToBookmark={goToBookmark}\n          loadBookmarks={loadBookmarks}\n          deleteBookmark={deleteBookmark}\n          saveBookmark={saveBookmark}\n        />\n        <Map mapOptions={mapOptions} />\n      </ElementsProvider>\n    );\n  });\n",__LOCATIONS_MAP__={"custom-actions":{startLoc:{col:7,line:42},endLoc:{col:3,line:55},startBody:{col:25,line:42},endBody:{col:3,line:55}},default:{startLoc:{col:7,line:32},endLoc:{col:3,line:41},startBody:{col:18,line:32},endBody:{col:3,line:41}}},goToBookmark=function goToBookmark(map,bookmark){return map.flyTo({center:bookmark.center,zoom:bookmark.zoom,bearing:0,speed:.5,curve:1.7,easing:function easing(t){return t},essential:!0}),!0};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_4__.storiesOf)("Bookmarks",module).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_5__.withKnobs).add("Default",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_3__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_2__.a,{mapOptions:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__.a}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.b)(_Bookmarks__WEBPACK_IMPORTED_MODULE_1__.a,{baseType:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_5__.radios)("baseType",["none","panel","button"],"panel")})]})})).add("Custom actions",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_3__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.b)(_Bookmarks__WEBPACK_IMPORTED_MODULE_1__.a,{baseType:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_5__.radios)("baseType",["none","panel","button"],"panel"),goToBookmark:goToBookmark,loadBookmarks:_util_bookmarkActions__WEBPACK_IMPORTED_MODULE_8__.c,deleteBookmark:_util_bookmarkActions__WEBPACK_IMPORTED_MODULE_8__.a,saveBookmark:_util_bookmarkActions__WEBPACK_IMPORTED_MODULE_8__.d}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_2__.a,{mapOptions:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__.a})]})}))}.call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/components/Bookmarks/util/bookmarkActions.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return goToBookmark})),__webpack_require__.d(__webpack_exports__,"c",(function(){return loadBookmarks})),__webpack_require__.d(__webpack_exports__,"d",(function(){return saveBookmark})),__webpack_require__.d(__webpack_exports__,"a",(function(){return deleteBookmark}));__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js");var _util_mapExists__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/util/mapExists.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function loadBookmarks(){return window.localStorage.getItem("ccBookmarks")}function goToBookmark(map,bookmark){return!!Object(_util_mapExists__WEBPACK_IMPORTED_MODULE_13__.a)(map)&&(map.easeTo({center:bookmark.center,zoom:bookmark.zoom}),!0)}function saveBookmark(map,name,setBookmarks){var existingBookmarks=loadBookmarks();if(Object(_util_mapExists__WEBPACK_IMPORTED_MODULE_13__.a)(map)&&name)if(existingBookmarks){var newItem={name:name,zoom:map.getZoom(),center:map.getCenter()},existingArray=JSON.parse(existingBookmarks),newArray=[].concat(_toConsumableArray(existingArray),[newItem]);window.localStorage.setItem("ccBookmarks",JSON.stringify(newArray)),setBookmarks(newArray)}else{var array=[{name:name,zoom:map.getZoom(),center:map.getCenter()}];window.localStorage.setItem("ccBookmarks",JSON.stringify(array)),setBookmarks(array)}}function deleteBookmark(name,setBookmarks){var bookmarks=JSON.parse(loadBookmarks()).filter((function(bookmark){return JSON.stringify(bookmark)!==JSON.stringify(name)}));window.localStorage.setItem("ccBookmarks",JSON.stringify(bookmarks)),setBookmarks(bookmarks)}},"./src/components/Draw/Draw.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js");var react=__webpack_require__("./node_modules/react/index.js"),theme_ui_core_esm=__webpack_require__("./node_modules/@theme-ui/core/dist/theme-ui-core.esm.js"),theme_ui_components_esm=__webpack_require__("./node_modules/@theme-ui/components/dist/theme-ui-components.esm.js"),index_esm=__webpack_require__("./node_modules/react-icons/md/index.esm.js"),fa_index_esm=__webpack_require__("./node_modules/react-icons/fa/index.esm.js"),ButtonGroup=__webpack_require__("./src/components/_primitives/ButtonGroup.js"),DefaultContext=__webpack_require__("./src/DefaultContext.js"),mapExists=(__webpack_require__("./node_modules/@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css"),__webpack_require__("./src/util/mapExists.js")),mapbox_gl=(__webpack_require__("./node_modules/core-js/modules/es.string.trim.js"),__webpack_require__("./node_modules/mapbox-gl/dist/mapbox-gl.js")),mapbox_gl_default=__webpack_require__.n(mapbox_gl),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),react_dom_default=__webpack_require__.n(react_dom),cjs=(__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/react-draggable/build/cjs/cjs.js")),cjs_default=__webpack_require__.n(cjs),es=__webpack_require__("./node_modules/react-color/es/index.js"),theme_ui_jsx_runtime_esm=__webpack_require__("./node_modules/theme-ui/jsx-runtime/dist/theme-ui-jsx-runtime.esm.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var LabelMaker_LabelMaker=function LabelMaker(_ref){var x=_ref.x,y=_ref.y,target=_ref.target,theme=_ref.theme;target.style.padding="4px",target.style.textShadow="none";var _useState2=_slicedToArray(Object(react.useState)(!1),2),hidden=_useState2[0],setHidden=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(target.style.color||"black"),2),textColor=_useState4[0],setTextColor=_useState4[1],_useState6=_slicedToArray(Object(react.useState)(target.style.backgroundColor||"white"),2),backgroundColor=_useState6[0],setBackgroundColor=_useState6[1],_useState8=_slicedToArray(Object(react.useState)(!1),2),colorPickerActive=_useState8[0],setColorPickerActive=_useState8[1],_useState10=_slicedToArray(Object(react.useState)(!1),2),currentColorPicker=_useState10[0],setCurrentColorPicker=_useState10[1];return Object(theme_ui_jsx_runtime_esm.a)(cjs_default.a,{handle:".handle",children:Object(theme_ui_jsx_runtime_esm.b)(theme_ui_components_esm.b,{sx:{position:"absolute",top:y+"px",left:x+"px",zIndex:99,backgroundColor:"white",width:"280px",borderRadius:"9px",display:hidden?"none":""},children:[Object(theme_ui_jsx_runtime_esm.b)(theme_ui_components_esm.g,{className:"handle",sx:{textAlign:"center",cursor:"pointer",backgroundColor:theme.colors.primary,borderTopLeftRadius:"9px",borderTopRightRadius:"9px",padding:"5px"},children:[Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.t,{sx:{color:"white",fontFamily:theme.fonts.body},children:"Label Editor"}),Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.f,{sx:{position:"absolute",top:0,right:0,color:"white",cursor:"pointer"},onClick:function onClick(){setHidden(!0)}})]}),Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.g,{children:Object(theme_ui_jsx_runtime_esm.b)(theme_ui_components_esm.b,{sx:{margin:"2.5px"},children:[Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.n,{sx:{fontFamily:theme.fonts.body},htmlFor:"label-edit",children:"Label"}),Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.m,{placeholder:target.innerHTML,name:"label-edit",id:"label-edit",onChange:function updateText(e){target.innerHTML=e.target.value.toUpperCase()},sx:{padding:"2px"},mb:1}),Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.n,{sx:{fontFamily:theme.fonts.body},htmlFor:"font-size-edit",children:"Font Size"}),Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.m,{placeholder:target.style.fontSize.replace("px","")||"12",name:"font-size-edit",id:"font-size-edit",onChange:function updateFontSize(e){target.style.fontSize=e.target.value+"px"},sx:{padding:"2px"},mb:1}),Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.n,{sx:{fontFamily:theme.fonts.body},htmlFor:"font-family-edit",children:"Font Family"}),Object(theme_ui_jsx_runtime_esm.b)(theme_ui_components_esm.q,{name:"font-family-edit",id:"font-family-edit",mb:1,onChange:function updateFontFamily(e){target.style.fontFamily=e.target.value},sx:{padding:"2px"},children:[Object(theme_ui_jsx_runtime_esm.a)("option",{value:"serif",children:"Serif"}),Object(theme_ui_jsx_runtime_esm.a)("option",{value:"sans-serif",children:"Sans-Serif"}),Object(theme_ui_jsx_runtime_esm.a)("option",{value:"cursive",children:"Cursive"}),Object(theme_ui_jsx_runtime_esm.a)("option",{value:"monospace",children:"Monospace"}),Object(theme_ui_jsx_runtime_esm.a)("option",{value:"fantasy",children:"Fantasy"})]}),Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.n,{sx:{fontFamily:theme.fonts.body},htmlFor:"font-weight-edit",children:"Font Weight"}),Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.m,{placeholder:target.style.fontWeight||200,name:"font-weight-edit",id:"font-weight-edit",onChange:function updateFontWeight(e){target.style.fontWeight=e.target.value},sx:{padding:"2px"},mb:1}),Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.b,{sx:{textAlign:"fg"===currentColorPicker?"left":"right"},mb:1,children:colorPickerActive?Object(theme_ui_jsx_runtime_esm.a)(es.a,{onChange:function updateColors(color){var hex=color.hex;"fg"===currentColorPicker?(target.style.color=hex,setTextColor(hex)):"bg"===currentColorPicker&&(target.style.backgroundColor=hex,setBackgroundColor(hex))}}):""}),Object(theme_ui_jsx_runtime_esm.b)(theme_ui_components_esm.i,{gap:2,mb:1,columns:[2,"1fr 1fr"],children:[Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.b,{bg:textColor,onClick:function onClick(){"fg"===currentColorPicker?(setColorPickerActive(!1),setCurrentColorPicker(!1)):(setColorPickerActive(!0),setCurrentColorPicker("fg"))},sx:{color:"white",cursor:"pointer",border:"fg"===currentColorPicker?"solid greenyellow 3px":""},children:"FG"}),Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.b,{bg:backgroundColor,onClick:function onClick(){"bg"===currentColorPicker?(setColorPickerActive(!1),setCurrentColorPicker(!1)):(setColorPickerActive(!0),setCurrentColorPicker("bg"))},sx:{cursor:"pointer",border:"bg"===currentColorPicker?"solid greenyellow 3px":""},children:"BG"})]}),Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.b,{p:2,sx:{textAlign:"center"},children:Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.o,{sx:{color:"#a70000",fontFamily:theme.fonts.body},href:"#!",onClick:function onClick(e){e.preventDefault(),window.confirm("are you sure")&&(target.parentNode.removeChild(target),setHidden(!0))},children:"Delete Label"})})]})})]})})};LabelMaker_LabelMaker.displayName="LabelMaker",LabelMaker_LabelMaker.__docgenInfo={description:"",methods:[],displayName:"LabelMaker"};var Draw_LabelMaker=LabelMaker_LabelMaker;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Draw/LabelMaker.js"]={name:"LabelMaker",docgenInfo:LabelMaker_LabelMaker.__docgenInfo,path:"src/components/Draw/LabelMaker.js"});var emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),textDrawMode=function GetTextMode(theme){var TextMode={};return TextMode.onSetup=function(){return{}},TextMode.onClick=function(state,e){var html,template,point=this.newFeature({type:"Feature",geometry:{type:"Point",coordinates:[e.lngLat.lng,e.lngLat.lat]}}),marker=new mapbox_gl_default.a.Marker({element:(html='<p class="cl-draw-text" style="text-shadow:0 0 4px #FFFFFF;text-stroke: .1em #FFFFFF; webkit-text-stroke = .1em #FFFFFF; cursor: context-menu" title="Right click to edit label style">New Label</p>',template=document.createElement("template"),template.innerHTML=html.trim(),template.content.firstChild),draggable:!0});marker.getElement().addEventListener("contextmenu",(function(clickEvent){var exists=document.getElementById("label-maker");exists&&exists.parentNode.removeChild(exists);var container=document.createElement("div");container.id="label-maker",document.body.appendChild(container),react_dom_default.a.render(Object(emotion_react_jsx_runtime_browser_esm.b)(Draw_LabelMaker,{x:clickEvent.clientX+50,y:clickEvent.clientY+25,target:clickEvent.target,theme:theme}),container)})),marker.setLngLat(e.lngLat),marker.addTo(this.map),this.map.fire("draw.create",{features:[point.toGeoJSON()]}),this.changeMode("simple_select")},TextMode.onKeyUp=function(state,e){return 27===e.keyCode&&this.changeMode("simple_select")},TextMode.toDisplayFeatures=function(state,geojson,display){display(geojson)},TextMode};function allowMapInteractions(map,allow){allow?(map.boxZoom.enable(),map.scrollZoom.enable(),map.dragPan.enable(),map.dragRotate.enable(),map.keyboard.enable(),map.doubleClickZoom.enable(),map.touchZoomRotate.enable()):(map.boxZoom.disable(),map.scrollZoom.disable(),map.dragPan.disable(),map.dragRotate.disable(),map.keyboard.disable(),map.doubleClickZoom.disable(),map.touchZoomRotate.disable())}var StaticMode={onSetup:function(){return this.setActionableState(),allowMapInteractions(this.map,!1),{}},toDisplayFeatures:function(state,geojson,display){display(geojson)}},staticDrawMode=StaticMode,BaseComponent=__webpack_require__("./src/components/_common/BaseComponent.js"),_excluded=["baseType","buttonOptions","sx"];function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function Draw_slicedToArray(arr,i){return function Draw_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Draw_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Draw_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Draw_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Draw_arrayLikeToArray(o,minLen)}(arr,i)||function Draw_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Draw_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Draw_Draw=function Draw(_ref){var baseType=_ref.baseType,buttonOptions=_ref.buttonOptions,sx=_ref.sx,rest=_objectWithoutProperties(_ref,_excluded),theme=Object(theme_ui_core_esm.e)().theme,config=Object(react.useContext)(DefaultContext.a),map=config.map,setDrawMode=config.setDrawMode,_useState2=Draw_slicedToArray(Object(react.useState)(null),2),drawControl=_useState2[0],setDrawControl=_useState2[1],_useState4=Draw_slicedToArray(Object(react.useState)(null),2),nextMode=_useState4[0],setNextMode=_useState4[1];if(!Object(mapExists.a)(map))return null;function startDraw(_x){return _startDraw.apply(this,arguments)}function _startDraw(){return(_startDraw=_asyncToGenerator(regeneratorRuntime.mark((function _callee(drawType){var draw,nm;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_context.t0=drawControl,_context.t0){_context.next=5;break}return _context.next=4,__webpack_require__.e(0).then(__webpack_require__.t.bind(null,"./node_modules/@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.js",7)).then((function(_ref2){var MapboxDraw=_ref2.default;return new MapboxDraw({displayControlsDefault:!1,modes:Object.assign({draw_text:textDrawMode(theme),static:staticDrawMode},MapboxDraw.modes)})}));case 4:_context.t0=_context.sent;case 5:draw=_context.t0,drawControl||(setDrawControl(draw),map.addControl(draw)),setNextMode(nm=drawType||"simple_select"),setDrawMode(nm),draw.changeMode(nm);case 11:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}function hideTextArea(textEl){textEl.addEventListener("click",(function(){allowMapInteractions(map,!1)})),textEl.style.backgroundColor="rgba(0, 0, 0, 0)",textEl.style.borderStyle="none",textEl.style.fontSize="14px",textEl.style.textShadow="0 0 2px #FFFFFF",textEl.style.textStroke=".02em #FFFFFF",textEl.style.webkitTextStroke=".02em #FFFFFF",textEl.style.resize="none"}return map.on("draw.create",(function(){"draw_text"===nextMode&&function(){for(var el=document.getElementsByClassName("cc-draw-text"),_loop=function _loop(i){el[i].focus(),el[i].addEventListener("click",(function(){drawControl.changeMode("static"),setDrawMode("static"),function showTextArea(textEl){textEl.style.backgroundColor="#FFFFFF",textEl.style.borderStyle="inset",textEl.focus()}(el[i])}))},i=0;i<el.length;i+=1)_loop(i);addEventListener("keyup",(function(e){13===e.keyCode&&("static"===drawControl.getMode()&&(drawControl.changeMode("simple_select"),setDrawMode("none"),allowMapInteractions(map,!0)),hideTextArea(el[el.length-1]))})),addEventListener("dblclick",(function(){"static"===drawControl.getMode()&&(drawControl.changeMode("simple_select"),setDrawMode("none"),allowMapInteractions(map,!0)),hideTextArea(el[el.length-1])}))}()})),Object(emotion_react_jsx_runtime_browser_esm.b)(BaseComponent.a,Object.assign({className:"draw-tools",baseType:baseType||"none",buttonOptions:Object.assign({icon:Object(emotion_react_jsx_runtime_browser_esm.b)(fa_index_esm.k,{}),title:"Draw",testId:"cl-draw-btn"},buttonOptions),sx:sx},rest,{children:Object(emotion_react_jsx_runtime_browser_esm.c)(ButtonGroup.a,{children:[Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.c,{title:"Draw Point",className:"draw-tool draw-tool--point",onClick:function onClick(){return startDraw("draw_point")},children:Object(emotion_react_jsx_runtime_browser_esm.b)(index_esm.c,{})}),Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.c,{title:"Draw Line",className:"draw-tool draw-tool--line",onClick:function onClick(){return startDraw("draw_line_string")},children:Object(emotion_react_jsx_runtime_browser_esm.b)(index_esm.e,{})}),Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.c,{title:"Draw Polygon",className:"draw-tool draw-tool--polygon",onClick:function onClick(){return startDraw("draw_polygon")},children:Object(emotion_react_jsx_runtime_browser_esm.b)(fa_index_esm.b,{})}),Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.c,{title:"Draw Text",className:"draw-tool draw-tool--text",onClick:function onClick(){startDraw("draw_text")},children:Object(emotion_react_jsx_runtime_browser_esm.b)(index_esm.d,{})}),Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.c,{title:"Delete Drawing",className:"draw-tool draw-tool--delete",onClick:function onClick(){!function clearDrawings(){if(drawControl){drawControl.deleteAll();for(var el=document.getElementsByClassName("cl-draw-text");el.length>0;)el[0].remove();setDrawMode("none")}}()},children:Object(emotion_react_jsx_runtime_browser_esm.b)(index_esm.a,{})})]})}))};Draw_Draw.displayName="Draw",Draw_Draw.__docgenInfo={description:"",methods:[],displayName:"Draw"};__webpack_exports__.a=Draw_Draw;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Draw/Draw.js"]={name:"Draw",docgenInfo:Draw_Draw.__docgenInfo,path:"src/components/Draw/Draw.js"})},"./src/components/Draw/Draw.stories.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _Draw__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Draw/Draw.js"),_Map_Map__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Map/Map.js"),_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/_common/ElementsProvider.js"),_storybook_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js"),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@storybook/addon-knobs/dist/index.js"),_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_8__=(__webpack_require__("./node_modules/mapbox-gl/dist/mapbox-gl.css"),__webpack_require__("./src/util/mockMapOptions.js")),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),__STORY__="import React from 'react';\nimport Draw from './Draw';\nimport Map from '../Map/Map';\nimport ElementsProvider from '../_common/ElementsProvider';\nimport { storiesOf } from '@storybook/react';\nimport { withKnobs, radios } from '@storybook/addon-knobs';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport mapOptions from '../../util/mockMapOptions';\n\nconst customMapOptions = Object.assign({}, mapOptions, {\n  center: [-100.207672, 39.581878],\n  zoom: 3,\n  bounds: null\n});\n\nstoriesOf('Draw', module)\n  .addDecorator(withKnobs)\n  .add('Default', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={customMapOptions} />\n        <Draw\n          baseType={radios('baseType', ['none', 'panel', 'button'], 'none')}\n        />\n      </ElementsProvider>\n    );\n  });\n",__LOCATIONS_MAP__={default:{startLoc:{col:7,line:18},endLoc:{col:3,line:27},startBody:{col:18,line:18},endBody:{col:3,line:27}}},customMapOptions=Object.assign({},_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_8__.a,{center:[-100.207672,39.581878],zoom:3,bounds:null});Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.storiesOf)("Draw",module).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_6__.withKnobs).add("Default",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_4__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_3__.a,{mapOptions:customMapOptions}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.b)(_Draw__WEBPACK_IMPORTED_MODULE_2__.a,{baseType:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_6__.radios)("baseType",["none","panel","button"],"none")})]})}))}.call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/components/Home/Home.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/index.js"),react_icons_fa__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react-icons/fa/index.esm.js"),_DefaultContext__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/DefaultContext.js"),_common_BaseComponent__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/_common/BaseComponent.js"),_util_mapExists__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/util/mapExists.js"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),_excluded=["initBounds","initCenter","initZoom","initPitch","initBearing","intercept","sx","buttonOptions"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Home=function Home(_ref){var initBounds=_ref.initBounds,initCenter=_ref.initCenter,initZoom=_ref.initZoom,initPitch=_ref.initPitch,initBearing=_ref.initBearing,_intercept=_ref.intercept,sx=_ref.sx,rest=(_ref.buttonOptions,_objectWithoutProperties(_ref,_excluded)),map=Object(react__WEBPACK_IMPORTED_MODULE_6__.useContext)(_DefaultContext__WEBPACK_IMPORTED_MODULE_8__.a).map,zoomToHome=function zoomToHome(){if(initBounds)try{map.setPitch(null!=initPitch?initPitch:0),map.setBearing(null!=initBearing?initBearing:0),map.fitBounds(initBounds)}catch(err){console.error(err)}else if(initCenter&&initZoom)try{map.setCenter(initCenter),map.setZoom(initZoom),map.setPitch(null!=initPitch?initPitch:0),map.setBearing(null!=initBearing?initBearing:0)}catch(err){console.error(err)}else console.error('Home Button Error: required props are not present. Make sure you pass "initBounds" OR "initCenter" and "initZoom".')};return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.b)(_common_BaseComponent__WEBPACK_IMPORTED_MODULE_9__.a,Object.assign({},rest,{className:"cl-home-button",baseType:"button",sx:sx,buttonOptions:{icon:Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.b)(react_icons_fa__WEBPACK_IMPORTED_MODULE_7__.f,{}),title:"Home",testId:"home-button",intercept:function intercept(){if(Object(_util_mapExists__WEBPACK_IMPORTED_MODULE_10__.a)(map))if(_intercept)try{Array.isArray(_intercept)?(_intercept[0](map),_intercept[1]&&zoomToHome()):_intercept()}catch(interceptError){zoomToHome()}else zoomToHome()}}}))};Home.displayName="Home",Home.__docgenInfo={description:"",methods:[],displayName:"Home"},__webpack_exports__.a=Home,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Home/Home.js"]={name:"Home",docgenInfo:Home.__docgenInfo,path:"src/components/Home/Home.js"})},"./src/components/Home/Home.stories.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__("./node_modules/react/index.js");var _Home__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Home/Home.js"),_Map_Map__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Map/Map.js"),_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/_common/ElementsProvider.js"),_storybook_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js"),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@storybook/addon-knobs/dist/index.js"),_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__("./node_modules/mapbox-gl/dist/mapbox-gl.css"),__webpack_require__("./src/util/mockMapOptions.js")),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),__STORY__="import React from 'react';\nimport Home from './Home';\nimport Map from '../Map/Map';\nimport ElementsProvider from '../_common/ElementsProvider';\nimport { storiesOf } from '@storybook/react';\nimport { withKnobs } from '@storybook/addon-knobs';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport mapOptions from '../../util/mockMapOptions';\n\nstoriesOf('Home', module)\n  .addDecorator(withKnobs)\n  .add('Using Bounds', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={mapOptions} />\n        <Home initBounds={mapOptions.bounds} />\n      </ElementsProvider>\n    );\n  })\n  .add('Using Zoom and Center', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={mapOptions} />\n        <Home initCenter={mapOptions.center} initZoom={mapOptions.zoom} />\n      </ElementsProvider>\n    );\n  })\n  .add('Intercept With Standard Zoom', () => {\n    const intercept = () => {\n      alert('Intercepting, now zoom in to home!');\n    };\n    return (\n      <ElementsProvider>\n        <Map mapOptions={mapOptions} />\n        <Home initCenter={mapOptions.center} initZoom={mapOptions.zoom} intercept={[intercept, true]} />\n      </ElementsProvider>\n    );\n  })\n  .add('Intercept With Custom Zoom', () => {\n    const intercept = (map) => {\n      map.flyTo({\n        center: mapOptions.center,\n        zoom: mapOptions.zoom,\n        bearing: mapOptions.bearing ?? 0,\n        speed: 1.7,\n        curve: 1.7,\n        easing: function(t) {\n          return t;\n        },\n        essential: true\n      });\n    };\n    return (\n      <ElementsProvider>\n        <Map mapOptions={mapOptions} />\n        <Home initCenter={mapOptions.center} initZoom={mapOptions.zoom} intercept={[intercept, false]} />\n      </ElementsProvider>\n    );\n  });\n",__LOCATIONS_MAP__={"intercept-with-custom-zoom":{startLoc:{col:7,line:39},endLoc:{col:3,line:59},startBody:{col:37,line:39},endBody:{col:3,line:59}},"intercept-with-standard-zoom":{startLoc:{col:7,line:28},endLoc:{col:3,line:38},startBody:{col:39,line:28},endBody:{col:3,line:38}},"using-zoom-and-center":{startLoc:{col:7,line:20},endLoc:{col:3,line:27},startBody:{col:32,line:20},endBody:{col:3,line:27}},"using-bounds":{startLoc:{col:7,line:12},endLoc:{col:3,line:19},startBody:{col:23,line:12},endBody:{col:3,line:19}}};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_4__.storiesOf)("Home",module).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_5__.withKnobs).add("Using Bounds",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_3__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_2__.a,{mapOptions:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__.a}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.b)(_Home__WEBPACK_IMPORTED_MODULE_1__.a,{initBounds:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__.a.bounds})]})})).add("Using Zoom and Center",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_3__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_2__.a,{mapOptions:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__.a}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.b)(_Home__WEBPACK_IMPORTED_MODULE_1__.a,{initCenter:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__.a.center,initZoom:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__.a.zoom})]})})).add("Intercept With Standard Zoom",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_3__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_2__.a,{mapOptions:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__.a}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.b)(_Home__WEBPACK_IMPORTED_MODULE_1__.a,{initCenter:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__.a.center,initZoom:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__.a.zoom,intercept:[function intercept(){alert("Intercepting, now zoom in to home!")},!0]})]})})).add("Intercept With Custom Zoom",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_3__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_2__.a,{mapOptions:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__.a}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.b)(_Home__WEBPACK_IMPORTED_MODULE_1__.a,{initCenter:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__.a.center,initZoom:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__.a.zoom,intercept:[function intercept(map){var _mapOptions$bearing;map.flyTo({center:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__.a.center,zoom:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__.a.zoom,bearing:null!==(_mapOptions$bearing=_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__.a.bearing)&&void 0!==_mapOptions$bearing?_mapOptions$bearing:0,speed:1.7,curve:1.7,easing:function easing(t){return t},essential:!0})},!1]})]})}))}.call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/components/LayerList/LayerList.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),index_esm=__webpack_require__("./node_modules/react-icons/fa/index.esm.js"),List=__webpack_require__("./src/components/_primitives/List.js"),BaseComponent=__webpack_require__("./src/components/_common/BaseComponent.js"),theme_ui_components_esm=(__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/@theme-ui/components/dist/theme-ui-components.esm.js")),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),_excluded=["className","sx","variant"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Switch=react_default.a.forwardRef((function(_ref,ref){var className=_ref.className,sx=_ref.sx,_ref$variant=_ref.variant,variant=void 0===_ref$variant?"switch":_ref$variant,props=_objectWithoutProperties(_ref,_excluded);return Object(emotion_react_jsx_runtime_browser_esm.c)(theme_ui_components_esm.b,{children:[Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.b,Object.assign({ref:ref,as:"input",type:"checkbox",__themeKey:"forms"},props,{sx:{position:"absolute",opacity:0,zIndex:-1,width:1,height:1,overflow:"hidden"}})),Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.b,Object.assign({css:{padding:2},__themeKey:"forms",variant:variant,className:className,sx:sx,__css:{position:"relative",bg:"gray",borderRadius:18,height:22,width:40,mr:2,cursor:"pointer","input:disabled ~ &":{opacity:.5,cursor:"not-allowed"},"& > div":{display:"flex",alignItems:"center",borderRadius:"50%",height:18,width:18,bg:"white",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.1)",position:"relative",transform:"translateX(0%)",transition:"transform 240ms cubic-bezier(0.165, 0.840, 0.440, 1.000)"},"input:checked ~ &":{bg:"primary","> div":{transform:"translateX(100%)"}}}},props,{children:Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.b,{})}))]})}));Switch.__docgenInfo={description:"",methods:[],displayName:"Switch",props:{variant:{defaultValue:{value:"'switch'",computed:!1},required:!1}}};var _primitives_Switch=Switch;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/_primitives/Switch.js"]={name:"Switch",docgenInfo:Switch.__docgenInfo,path:"src/components/_primitives/Switch.js"});var ListItem=__webpack_require__("./src/components/_primitives/ListItem.js"),mapExists=__webpack_require__("./src/util/mapExists.js"),theme_ui_jsx_runtime_esm=(__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.splice.js"),__webpack_require__("./node_modules/theme-ui/jsx-runtime/dist/theme-ui-jsx-runtime.esm.js"));function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Legend_buildStyle=function buildStyle(lyr){var type=lyr.type;try{switch(type){case"fill":return function fill(paint){var _paint$get$value,fc,foc,fcValue=paint.get("fill-color").value,focValue=paint.get("fill-outline-color").value,foValue=(null===(_paint$get$value=paint.get("fill-opacity").value)||void 0===_paint$get$value?void 0:_paint$get$value.value)||1;if(fcValue._parameters&&Object.prototype.hasOwnProperty.call(fcValue._parameters,"stops"))fc=fcValue._parameters.stops,fcValue._parameters.default&&(fc=[].concat(_toConsumableArray(fc),[["",fcValue._parameters.default]]));else if(fcValue._styleExpression){var flattened=[];Object.keys(fcValue._styleExpression.expression.cases).forEach((function(k){var item=[k,fcValue._styleExpression.expression.outputs[+fcValue._styleExpression.expression.cases[k]].value.toString()];flattened.push(item)})),fcValue._styleExpression.expression.otherwise&&flattened.push(["",fcValue._styleExpression.expression.otherwise.value.toString()]),fc=flattened}else fc=[fcValue.value.toString()];if(focValue._parameters&&Object.prototype.hasOwnProperty.call(focValue._parameters,"stops"))foc=focValue._parameters.stops,focValue._parameters.default&&(foc=[].concat(_toConsumableArray(fc),[["",focValue._parameters.default]]));else if(focValue._styleExpression){var _flattened=[];Object.keys(focValue._styleExpression.expression.cases).forEach((function(k){var item=[k,focValue._styleExpression.expression.outputs[+focValue._styleExpression.expression.cases[k]].value.toString()];_flattened.push(item)})),focValue._styleExpression.expression.otherwise&&_flattened.push(["",focValue._styleExpression.expression.otherwise.value.toString()]),foc=_flattened}else foc=[focValue.value.toString()];return Object(theme_ui_jsx_runtime_esm.a)(List.a,{sx:{margin:0,padding:0},children:Object(theme_ui_jsx_runtime_esm.a)((function Items(){var svgs=(fc.length>1?fc.map((function(l){return[].concat(_toConsumableArray(l),[foc[0]])})):foc.length>1?foc.map((function(l){return l.splice(1,0,fc[0]),l})):[[null,fc[0],foc[0]]]).map((function(s,i){return Object(theme_ui_jsx_runtime_esm.b)(ListItem.a,{sx:{margin:0,marginLeft:4,padding:0,display:"flex"},children:[Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.b,{children:Object(theme_ui_jsx_runtime_esm.a)("svg",{width:"25",height:"25",children:Object(theme_ui_jsx_runtime_esm.a)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"25",height:"25",sx:{fill:s[1],stroke:s[2],strokeWidth:3,fillOpacity:foValue,strokeOpacity:foValue}})})}),Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.b,{children:Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.t,{sx:{padding:"3px"},children:s[0]})})]},i)}));return Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.b,{children:svgs})}),{})})}(lyr.paint);case"circle":return function circle(paint){var cr,flexGrow,textAlign,cc=paint.get("circle-color").value.value.toString(),crValue=paint.get("circle-radius").value;return crValue._parameters&&Object.prototype.hasOwnProperty.call(crValue._parameters,"stops")&&"source"===crValue.kind?(flexGrow=6,textAlign="center",cr=crValue._parameters.stops,crValue._parameters.default&&(cr=[].concat(_toConsumableArray(cr),[["",crValue._parameters.default]]))):(flexGrow=1,textAlign="left",+(cr=[crValue.value.toString()])[0]<8&&(cr=["8"])),Object(theme_ui_jsx_runtime_esm.a)(List.a,{sx:{margin:0,padding:0},children:Object(theme_ui_jsx_runtime_esm.a)((function Items(){var svgs=(cr.length>1?cr.map((function(l){return _toConsumableArray(l)})):[[null,cr[0]]]).map((function(s,i){var cSize=+s[1]+.75*+s[1];return Object(theme_ui_jsx_runtime_esm.b)(ListItem.a,{sx:{margin:0,marginLeft:4,padding:0,display:"flex"},children:[Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.b,{sx:{flexGrow:flexGrow,textAlign:textAlign},children:Object(theme_ui_jsx_runtime_esm.a)("svg",{width:cSize,height:cSize,children:Object(theme_ui_jsx_runtime_esm.a)("circle",{cx:cSize/2,cy:cSize/2,r:cSize/2-.5,sx:{fill:cc}})})}),Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.b,{sx:{flexGrow:1,lineHeight:s[1]>=10?1.8388*+s[1]-7.5+"px":"15px"},children:Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.t,{sx:{padding:"3px"},children:s[0]})})]},i)}));return Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.b,{children:svgs})}),{})})}(lyr.paint);case"line":return function line(paint){var lc,lcValue=paint.get("line-color").value,kind=lcValue.kind;if("source"===kind||"constant"===kind){if(lcValue._parameters&&Object.prototype.hasOwnProperty.call(lcValue._parameters,"stops"))lc=lcValue._parameters.stops,lcValue._parameters.default&&(lc=[].concat(_toConsumableArray(lc),[["",lcValue._parameters.default]]));else if(lcValue._styleExpression){var flattened=[];Object.keys(lcValue._styleExpression.expression.cases).forEach((function(k){var item=[k,lcValue._styleExpression.expression.outputs[+lcValue._styleExpression.expression.cases[k]].value.toString()];flattened.push(item)})),lcValue._styleExpression.expression.otherwise&&flattened.push(["",lcValue._styleExpression.expression.otherwise.value.toString()]),lc=flattened}else lc=[lcValue.value.toString()];return Object(theme_ui_jsx_runtime_esm.a)(List.a,{sx:{margin:0,padding:0},children:Object(theme_ui_jsx_runtime_esm.a)((function Items(){var svgs=(lc.length>1?lc.map((function(l){return _toConsumableArray(l)})):[[null,lc[0]]]).map((function(s,i){return Object(theme_ui_jsx_runtime_esm.b)(ListItem.a,{sx:{margin:0,marginLeft:4,padding:0,display:"flex",alignItems:"flex-start",justifyContent:"flex-start"},children:[Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.b,{children:Object(theme_ui_jsx_runtime_esm.a)("svg",{width:"25",height:"25",children:Object(theme_ui_jsx_runtime_esm.a)("rect",{x:"0",y:"3.75",rx:"0",ry:"0",width:"25",height:"7.5",sx:{fill:s,strokeWidth:2}})})}),Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.b,{px:1,children:Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.t,{children:s[0]})})]},i)}));return Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.b,{children:svgs})}),{})})}if("composite"!==paint.get("line-color").value.kind)return!1;try{return lc=paint.get("line-color").value._styleExpression.expression.outputs[0].outputs[0].value.toString(),Object(theme_ui_jsx_runtime_esm.a)(List.a,{sx:{margin:0,marginLeft:4,padding:0},children:Object(theme_ui_jsx_runtime_esm.a)(ListItem.a,{sx:{margin:0,marginLeft:4,padding:0},children:Object(theme_ui_jsx_runtime_esm.a)("svg",{width:"25",height:"25",children:Object(theme_ui_jsx_runtime_esm.a)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"25",height:"7.5",sx:{fill:lc,strokeWidth:2}})})})})}catch(err){return console.error(err),!1}}(lyr.paint);case"symbol":return function symbol(){return console.log("legend cannot render symbol yet"),!1}(lyr.paint);case"heatmap":return function heatmap(){return console.log("legend cannot render heatmap yet"),!1}(lyr.paint);case"fill-extrusion":return function fillExtrusion(){return console.log("legend cannot render fill-extrusion yet"),!1}(lyr.paint);case"raster":return function raster(){return console.log("legend cannot render raster yet"),!1}(lyr.paint);case"hillshade":return function hillshade(){return console.log("legend cannot render hillshade yet"),!1}(lyr.paint);case"background":return function background(){return console.log("legend cannot render background yet"),!1}(lyr.paint);default:return!1}}catch(err){return console.warn(err),!1}};function toggleLayerVisibility(map,layerId,checked){return!!Object(mapExists.a)(map)&&(checked?map.setLayoutProperty(layerId,"visibility","visible"):map.setLayoutProperty(layerId,"visibility","none"),!0)}Legend_buildStyle.__docgenInfo={description:"",methods:[],displayName:"buildStyle"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/LayerList/Legend.js"]={name:"buildStyle",docgenInfo:Legend_buildStyle.__docgenInfo,path:"src/components/LayerList/Legend.js"});var reach_menu_button_esm=__webpack_require__("./node_modules/@reach/menu-button/dist/reach-menu-button.esm.js"),LayerActionsMenu_LayerActionsMenu=(__webpack_require__("./node_modules/@reach/menu-button/styles.css"),function LayerActionsMenu(_ref){var layerActions=_ref.layerActions;return layerActions&&layerActions.length>0?Object(theme_ui_jsx_runtime_esm.b)(reach_menu_button_esm.a,{className:"cl-layer-list-action-menu",children:[Object(theme_ui_jsx_runtime_esm.a)(reach_menu_button_esm.b,{sx:{color:"text",bg:"background",borderStyle:"none",fontSize:1,":hover":{cursor:"pointer"}},children:"..."}),Object(theme_ui_jsx_runtime_esm.a)(reach_menu_button_esm.e,{sx:{zIndex:3,fontFamily:"body"},children:Object(theme_ui_jsx_runtime_esm.a)(reach_menu_button_esm.d,{children:layerActions.map((function(action){return Object(theme_ui_jsx_runtime_esm.a)(reach_menu_button_esm.c,{onSelect:function onSelect(){action.action()},children:action.title},action.title)}))})})]}):null});LayerActionsMenu_LayerActionsMenu.__docgenInfo={description:"",methods:[],displayName:"LayerActionsMenu"};var LayerList_LayerActionsMenu=LayerActionsMenu_LayerActionsMenu;function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function LayerListItem_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return LayerListItem_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LayerListItem_arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LayerListItem_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/LayerList/LayerActionsMenu.js"]={name:"LayerActionsMenu",docgenInfo:LayerActionsMenu_LayerActionsMenu.__docgenInfo,path:"src/components/LayerList/LayerActionsMenu.js"});var LayerListItem_LayerListItem=function LayerListItem(_ref){var actionMenuSlot,layerInfo=_ref.layerInfo,map=_ref.map,legend=_ref.legend,showActions=_ref.showActions,itemActions=_ref.itemActions,checkboxStyle=_ref.checkboxStyle,baseType=_ref.baseType,_useState2=_slicedToArray(Object(react.useState)(!1),2),isChecked=_useState2[0],setIsChecked=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(null),2),checkbox=_useState4[0],setCheckbox=_useState4[1],_useState6=_slicedToArray(Object(react.useState)(),2),style=_useState6[0],setStyle=_useState6[1],_useState8=_slicedToArray(Object(react.useState)(!!legend),2),legendVisibility=_useState8[0],setLegendVisibility=_useState8[1],layerIds=layerInfo.layerIds,handleChange=function handleChange(e){var checked=e.currentTarget.checked;layerIds.map((function(layerId){return checked||!isChecked?(setIsChecked(!0),toggleLayerVisibility(map,layerId,!0)):(setIsChecked(!1),toggleLayerVisibility(map,layerId,!1)),!0}))};Object(react.useEffect)((function(){switch(checkboxStyle){case"check":setCheckbox(Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.e,{onChange:handleChange,checked:isChecked}));break;case"switch":setCheckbox(Object(emotion_react_jsx_runtime_browser_esm.b)(_primitives_Switch,{checked:isChecked,onChange:handleChange}));break;case"eye":setCheckbox(isChecked?Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.k,{onClick:handleChange,sx:{alignItems:"baseline"},children:Object(emotion_react_jsx_runtime_browser_esm.b)(index_esm.c,{})}):Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.k,{onClick:handleChange,sx:{alignItems:"baseline"},children:Object(emotion_react_jsx_runtime_browser_esm.b)(index_esm.d,{})}));break;default:setCheckbox(Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.e,{checked:isChecked,onChange:handleChange}))}}),[checkboxStyle,isChecked]),Object(react.useEffect)((function(){var layerVisibility;if(Object(mapExists.a)(map)){var setCurrentState=function setCurrentState(){layerVisibility=map.getLayoutProperty(layerIds[0],"visibility"),setIsChecked("none"!==layerVisibility),legend&&setStyle(layerInfo.legendStyle?layerInfo.legendStyle():Legend_buildStyle(map.getLayer(layerIds[0])))};if(Object.keys(map).length>0)if(baseType&&"button"===baseType)try{setCurrentState()}catch(e){e instanceof TypeError&&map.once("idle",(function(){setCurrentState()}))}else map.once("idle",(function(){setCurrentState()}))}}),[map,layerInfo]),actionMenuSlot=showActions?Object(emotion_react_jsx_runtime_browser_esm.b)(LayerList_LayerActionsMenu,{layerActions:itemActions}):null;return Object(emotion_react_jsx_runtime_browser_esm.c)(theme_ui_components_esm.b,{className:"listItem",children:[Object(emotion_react_jsx_runtime_browser_esm.b)(ListItem.a,{children:Object(emotion_react_jsx_runtime_browser_esm.c)(theme_ui_components_esm.h,{children:[Object(emotion_react_jsx_runtime_browser_esm.c)(theme_ui_components_esm.n,{children:[checkbox,Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.t,{pt:1,sx:{fontWeight:"bold",cursor:"pointer",":hover":{textDecoration:"underline"}},onClick:function showHideLegend(e){legend&&(e.preventDefault(),setLegendVisibility(!legendVisibility))},children:layerInfo.layerName})]}),actionMenuSlot]})},layerInfo.layerName),legend?Object(emotion_react_jsx_runtime_browser_esm.b)((function LegendListItem(){return Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.b,{sx:{display:legendVisibility?"":"none"},children:Object(emotion_react_jsx_runtime_browser_esm.b)(ListItem.a,{css:{display:legend&&style?"":"none"},children:style},layerInfo.layerName+"-legend")})}),{}):null]})};LayerListItem_LayerListItem.displayName="LayerListItem",LayerListItem_LayerListItem.__docgenInfo={description:"",methods:[],displayName:"LayerListItem"};var LayerList_LayerListItem=LayerListItem_LayerListItem;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/LayerList/LayerListItem.js"]={name:"LayerListItem",docgenInfo:LayerListItem_LayerListItem.__docgenInfo,path:"src/components/LayerList/LayerListItem.js"});var DefaultContext=__webpack_require__("./src/DefaultContext.js");__webpack_require__("./node_modules/core-js/modules/es.array.flat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js");function GroupLayerItem_slicedToArray(arr,i){return function GroupLayerItem_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function GroupLayerItem_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function GroupLayerItem_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return GroupLayerItem_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GroupLayerItem_arrayLikeToArray(o,minLen)}(arr,i)||function GroupLayerItem_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GroupLayerItem_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var GroupLayerItem_GroupLayerItem=function GroupLayerItem(_ref){var actionMenuSlot,layerInfo=_ref.layerInfo,map=_ref.map,legend=_ref.legend,showActions=_ref.showActions,itemActions=_ref.itemActions,group=_ref.group,callback=_ref.callback,activeOnLoad=_ref.activeOnLoad,_useState2=GroupLayerItem_slicedToArray(Object(react.useState)(),2),style=_useState2[0],setStyle=_useState2[1],layerIds=layerInfo.layerIds;Object(react.useEffect)((function(){Object(mapExists.a)(map)&&Object.keys(map).length>0&&map.once("idle",(function(){legend&&setStyle(layerInfo.legendStyle?layerInfo.legendStyle():map.getLayer(layerIds[0]))}))}),[map,layerInfo]),actionMenuSlot=showActions?Object(emotion_react_jsx_runtime_browser_esm.b)(LayerList_LayerActionsMenu,{layerActions:itemActions}):null;return Object(emotion_react_jsx_runtime_browser_esm.c)(theme_ui_components_esm.b,{className:"listItem",children:[Object(emotion_react_jsx_runtime_browser_esm.b)(ListItem.a,{children:Object(emotion_react_jsx_runtime_browser_esm.c)(theme_ui_components_esm.h,{children:[Object(emotion_react_jsx_runtime_browser_esm.c)(theme_ui_components_esm.n,{children:[Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.p,{name:group,onChange:function onChange(e){!function handleRadioChange(e){var value=e.currentTarget.value.split(",");callback(value)}(e)},value:layerInfo.layerIds,defaultChecked:activeOnLoad}),Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.t,{pt:1,children:layerInfo.layerName})]}),actionMenuSlot]})},layerInfo.layerName),legend?Object(emotion_react_jsx_runtime_browser_esm.b)((function LegendListItem(){return Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.b,{children:Object(emotion_react_jsx_runtime_browser_esm.b)(ListItem.a,{css:{display:legend&&style?"":"none"},children:style},layerInfo.layerName+"-legend")})}),{}):null]})};GroupLayerItem_GroupLayerItem.displayName="GroupLayerItem",GroupLayerItem_GroupLayerItem.__docgenInfo={description:"",methods:[],displayName:"GroupLayerItem"};var LayerList_GroupLayerItem=GroupLayerItem_GroupLayerItem;function GroupLayer_slicedToArray(arr,i){return function GroupLayer_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function GroupLayer_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function GroupLayer_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return GroupLayer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GroupLayer_arrayLikeToArray(o,minLen)}(arr,i)||function GroupLayer_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GroupLayer_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/LayerList/GroupLayerItem.js"]={name:"GroupLayerItem",docgenInfo:GroupLayerItem_GroupLayerItem.__docgenInfo,path:"src/components/LayerList/GroupLayerItem.js"});var GroupLayer_GroupLayer=function GroupLayer(_ref){var group=_ref.group,map=_ref.map,legend=_ref.legend,_ref$showOnLoad=_ref.showOnLoad,showOnLoad=void 0===_ref$showOnLoad||_ref$showOnLoad,_useState2=GroupLayer_slicedToArray(Object(react.useState)(showOnLoad),2),isChecked=_useState2[0],setIsChecked=_useState2[1],layers=group.layers.map((function(layer){return layer.layerIds.map((function(id){return id}))}));layers=layers.flat();var toggleGroupLayers=function toggleGroupLayers(layerArray){var onLayers=layers.filter((function(layer){return layerArray.includes(layer)})),offLayers=layers.filter((function(layer){return!layerArray.includes(layer)}));isChecked?(onLayers.map((function(layerId){return toggleLayerVisibility(map,layerId,!0),!0})),offLayers.map((function(layerId){return toggleLayerVisibility(map,layerId,!1),!0}))):layers.map((function(layerId){return toggleLayerVisibility(map,layerId,!1),!0}))},layerItems=group.layers.map((function(item,idx){return Object(emotion_react_jsx_runtime_browser_esm.b)(LayerList_GroupLayerItem,{layerInfo:item,map:map,legend:legend,itemActions:item.actions,group:group.groupName,callback:toggleGroupLayers,activeOnLoad:0===idx},item.layerName)}));return Object(emotion_react_jsx_runtime_browser_esm.b)(ListItem.a,{children:Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.b,{children:Object(emotion_react_jsx_runtime_browser_esm.c)(theme_ui_components_esm.h,{sx:{flexDirection:"column"},children:[Object(emotion_react_jsx_runtime_browser_esm.c)(theme_ui_components_esm.n,{children:[Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.e,{checked:isChecked,onChange:function handleChange(e){e.currentTarget.checked?(setIsChecked(!0),layers.map((function(layerId){return toggleLayerVisibility(map,layerId,!0),!0}))):(setIsChecked(!1),layers.map((function(layerId){return toggleLayerVisibility(map,layerId,!1),!0})))}}),Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.t,{pt:1,sx:{fontWeight:"bold"},children:group.groupName})]}),Object(emotion_react_jsx_runtime_browser_esm.b)(List.a,{children:layerItems})]})})})};GroupLayer_GroupLayer.displayName="GroupLayer",GroupLayer_GroupLayer.__docgenInfo={description:"",methods:[],displayName:"GroupLayer",props:{showOnLoad:{defaultValue:{value:"true",computed:!1},required:!1}}};var LayerList_GroupLayer=GroupLayer_GroupLayer;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/LayerList/GroupLayer.js"]={name:"GroupLayer",docgenInfo:GroupLayer_GroupLayer.__docgenInfo,path:"src/components/LayerList/GroupLayer.js"});var LayerList_excluded=["layers","groupLayers","legend","showActions","checkboxStyle","baseType","buttonOptions","sx"];function LayerList_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function LayerList_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var LayerList_LayerList=function LayerList(_ref){var layers=_ref.layers,groupLayers=_ref.groupLayers,_ref$legend=_ref.legend,legend=void 0!==_ref$legend&&_ref$legend,showActions=_ref.showActions,checkboxStyle=_ref.checkboxStyle,baseType=_ref.baseType,buttonOptions=_ref.buttonOptions,sx=_ref.sx,rest=LayerList_objectWithoutProperties(_ref,LayerList_excluded),map=Object(react.useContext)(DefaultContext.a).map;if(!Object(mapExists.a)(map))return null;var groupItems,listItems=layers.map((function(item){return Object(emotion_react_jsx_runtime_browser_esm.b)(LayerList_LayerListItem,{layerInfo:item,map:map,legend:legend,itemActions:item.actions,showActions:showActions,checkboxStyle:checkboxStyle,baseType:baseType},item.layerName)}));return groupLayers&&groupLayers.length>0&&(groupItems=groupLayers.map((function(group){return Object(emotion_react_jsx_runtime_browser_esm.b)(LayerList_GroupLayer,{group:group,map:map,legend:legend})}))),Object(emotion_react_jsx_runtime_browser_esm.c)(BaseComponent.a,Object.assign({baseType:baseType,buttonOptions:Object.assign({icon:Object(emotion_react_jsx_runtime_browser_esm.b)(index_esm.h,{}),title:"Layer List",testId:"cl-layerlist-btn"},buttonOptions),sx:sx},rest,{children:[Object(emotion_react_jsx_runtime_browser_esm.b)(List.a,{children:listItems}),Object(emotion_react_jsx_runtime_browser_esm.c)(List.a,{children:[" ",groupItems]})]}))};LayerList_LayerList.displayName="LayerList",LayerList_LayerList.__docgenInfo={description:"",methods:[],displayName:"LayerList",props:{legend:{defaultValue:{value:"false",computed:!1},required:!1}}};__webpack_exports__.a=LayerList_LayerList;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/LayerList/LayerList.js"]={name:"LayerList",docgenInfo:LayerList_LayerList.__docgenInfo,path:"src/components/LayerList/LayerList.js"})},"./src/components/LayerList/LayerList.stories.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/react/index.js");var _LayerList__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/LayerList/LayerList.js"),_Map_Map__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Map/Map.js"),_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/_common/ElementsProvider.js"),_storybook_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js"),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@storybook/addon-knobs/dist/index.js"),_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_8__=(__webpack_require__("./node_modules/mapbox-gl/dist/mapbox-gl.css"),__webpack_require__("./src/util/mockMapOptions.js")),_util_mockMapLayers__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/util/mockMapLayers.js"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),__STORY__="import React from 'react';\n\nimport LayerList from './LayerList';\nimport Map from '../Map/Map';\nimport ElementsProvider from '../_common/ElementsProvider';\nimport { storiesOf } from '@storybook/react';\nimport { withKnobs, radios } from '@storybook/addon-knobs';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport mapOptions from '../../util/mockMapOptions';\nimport mapLayers from '../../util/mockMapLayers';\nimport { edgeCases } from '../../util/mockMapLayers';\n\nconst layers = [\n  {\n    layerIds: ['national-park'], //fill\n    layerName: 'National Parks',\n    actions: [\n      {\n        title: 'Custom Action',\n        action: () => {\n          alert('insert custom functions here');\n        }\n      }\n    ]\n  },\n  {\n    layerIds: ['water', 'water-shadow'], //fill\n    layerName: 'Water',\n    actions: [\n      {\n        title: 'Custom Action',\n        action: () => {\n          alert('insert custom functions here');\n        }\n      }\n    ]\n  },\n  {\n    layerIds: ['road-motorway-trunk'], //line\n    layerName: 'Motorway',\n    actions: [\n      {\n        title: 'Custom Action',\n        action: () => {\n          alert('insert custom functions here');\n        }\n      }\n    ]\n  },\n  {\n    layerIds: ['road-number-shield'], //symbol\n    layerName: 'Road Shield',\n    actions: [\n      {\n        title: 'Custom Action',\n        action: () => {\n          alert('insert custom functions here');\n        }\n      }\n    ],\n    legendStyle: () => {\n      return (\n        <svg width=\"25\" height=\"25\">\n          <rect\n            x=\"0\"\n            y=\"0\"\n            rx=\"0\"\n            ry=\"0\"\n            width=\"25\"\n            height=\"7.5\"\n            style={{ fill: 'red', borderWidth: 3 }}\n          />\n        </svg>\n      );\n    }\n  }\n];\n\nconst layers2 = [\n  {\n    layerIds: ['road-motorway-trunk'], //line\n    layerName: 'Motorway',\n    actions: [\n      {\n        title: 'Custom Action',\n        action: () => {\n          alert('insert custom functions here');\n        }\n      }\n    ]\n  },\n  {\n    layerIds: ['road-number-shield'], //symbol\n    layerName: 'Road Shield',\n    actions: [\n      {\n        title: 'Custom Action',\n        action: () => {\n          alert('insert custom functions here');\n        }\n      }\n    ],\n    legendStyle: () => {\n      return (\n        <svg width=\"25\" height=\"25\">\n          <rect\n            x=\"0\"\n            y=\"0\"\n            rx=\"0\"\n            ry=\"0\"\n            width=\"25\"\n            height=\"7.5\"\n            style={{ fill: 'red', borderWidth: 3 }}\n          />\n        </svg>\n      );\n    }\n  }\n];\n\nconst groupLayers = [\n  {\n    groupName: 'test',\n    layers: [\n      {\n        layerIds: ['national-park'], //fill\n        layerName: 'National Parks'\n      },\n      {\n        layerIds: ['water', 'water-shadow'], //fill\n        layerName: 'Water'\n      }\n    ]\n  }\n];\n\nconst layersWithDDS = [\n  ...layers,\n  {\n    layerIds: ['states-layer'], //fill\n    layerName: 'US States',\n    actions: [\n      {\n        title: 'Custom Action',\n        action: () => {\n          alert('insert custom functions here');\n        }\n      }\n    ]\n  },\n  {\n    layerIds: ['dc-art-layer'],\n    layerName: 'DC Art Galleries'\n  },\n  {\n    layerIds: ['football-stadiums-layer'],\n    layerName: ['Football Stadiums']\n  },\n  {\n    layerIds: ['river-centerlines-layer'],\n    layerName: ['River Centerlines']\n  }\n];\n\nconst layerEdgeCases = [\n  {\n    layerIds: ['edge-expression'],\n    layerName: 'Style Expression'\n  },\n  {\n    layerIds: ['edge-categorical-default'],\n    layerName: 'Default Style'\n  }\n];\n\nstoriesOf('LayerList', module)\n  .addDecorator(withKnobs)\n  .add('Default', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={mapOptions} />\n        <LayerList\n          baseType={radios('baseType', ['none', 'panel', 'button'], 'panel')}\n          layers={layers}\n          checkboxStyle={radios(\n            'checkboxStyle',\n            ['checkbox', 'switch', 'eye'],\n            'checkbox'\n          )}\n        />\n      </ElementsProvider>\n    );\n  })\n  .add('With Legend', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={mapOptions} />\n        <LayerList\n          baseType={radios('baseType', ['none', 'panel', 'button'], 'panel')}\n          layers={layers}\n          legend\n          checkboxStyle={radios(\n            'checkboxStyle',\n            ['checkbox', 'switch', 'eye'],\n            'checkbox'\n          )}\n        />\n      </ElementsProvider>\n    );\n  })\n  .add('With Legend (Button Style)', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={mapOptions} />\n        <LayerList\n          baseType='button'\n          layers={layers}\n          legend\n        />\n      </ElementsProvider>\n    );\n  })\n  .add('With Data Driven Styles', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={mapOptions} mapLayers={mapLayers} />\n        <LayerList\n          baseType={radios('baseType', ['none', 'panel', 'button'], 'panel')}\n          layers={layersWithDDS}\n          legend\n          checkboxStyle={radios(\n            'checkboxStyle',\n            ['checkbox', 'switch', 'eye'],\n            'checkbox'\n          )}\n        />\n      </ElementsProvider>\n    );\n  })\n  .add('With Action Menu', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={mapOptions} />\n        <LayerList\n          baseType={radios('baseType', ['none', 'panel', 'button'], 'panel')}\n          layers={layers}\n          showActions\n          checkboxStyle={radios(\n            'checkboxStyle',\n            ['checkbox', 'switch', 'eye'],\n            'checkbox'\n          )}\n        />\n      </ElementsProvider>\n    );\n  })\n  .add('Groups', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={mapOptions} />\n        <LayerList\n          baseType={radios('baseType', ['none', 'panel', 'button'], 'panel')}\n          layers={layers2}\n          groupLayers={groupLayers}\n          checkboxStyle={radios(\n            'checkboxStyle',\n            ['checkbox', 'switch', 'eye'],\n            'checkbox'\n          )}\n        />\n      </ElementsProvider>\n    );\n  })\n  .add('Edge Cases', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={mapOptions} mapLayers={edgeCases} />\n        <LayerList\n          baseType={radios('baseType', ['none', 'panel', 'button'], 'panel')}\n          layers={layerEdgeCases}\n          legend\n          checkboxStyle={radios(\n            'checkboxStyle',\n            ['checkbox', 'switch', 'eye'],\n            'checkbox'\n          )}\n        />\n      </ElementsProvider>\n    );\n  });\n",__LOCATIONS_MAP__={"edge-cases":{startLoc:{col:7,line:274},endLoc:{col:3,line:290},startBody:{col:21,line:274},endBody:{col:3,line:290}},groups:{startLoc:{col:7,line:257},endLoc:{col:3,line:273},startBody:{col:17,line:257},endBody:{col:3,line:273}},"with-action-menu":{startLoc:{col:7,line:240},endLoc:{col:3,line:256},startBody:{col:27,line:240},endBody:{col:3,line:256}},"with-data-driven-styles":{startLoc:{col:7,line:223},endLoc:{col:3,line:239},startBody:{col:34,line:223},endBody:{col:3,line:239}},"with-legend-button-style":{startLoc:{col:7,line:211},endLoc:{col:3,line:222},startBody:{col:37,line:211},endBody:{col:3,line:222}},"with-legend":{startLoc:{col:7,line:194},endLoc:{col:3,line:210},startBody:{col:22,line:194},endBody:{col:3,line:210}},default:{startLoc:{col:7,line:178},endLoc:{col:3,line:193},startBody:{col:18,line:178},endBody:{col:3,line:193}}},layers=[{layerIds:["national-park"],layerName:"National Parks",actions:[{title:"Custom Action",action:function action(){alert("insert custom functions here")}}]},{layerIds:["water","water-shadow"],layerName:"Water",actions:[{title:"Custom Action",action:function action(){alert("insert custom functions here")}}]},{layerIds:["road-motorway-trunk"],layerName:"Motorway",actions:[{title:"Custom Action",action:function action(){alert("insert custom functions here")}}]},{layerIds:["road-number-shield"],layerName:"Road Shield",actions:[{title:"Custom Action",action:function action(){alert("insert custom functions here")}}],legendStyle:function legendStyle(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.b)("svg",{width:"25",height:"25",children:Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.b)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"25",height:"7.5",style:{fill:"red",borderWidth:3}})})}}],layers2=[{layerIds:["road-motorway-trunk"],layerName:"Motorway",actions:[{title:"Custom Action",action:function action(){alert("insert custom functions here")}}]},{layerIds:["road-number-shield"],layerName:"Road Shield",actions:[{title:"Custom Action",action:function action(){alert("insert custom functions here")}}],legendStyle:function legendStyle(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.b)("svg",{width:"25",height:"25",children:Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.b)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"25",height:"7.5",style:{fill:"red",borderWidth:3}})})}}],groupLayers=[{groupName:"test",layers:[{layerIds:["national-park"],layerName:"National Parks"},{layerIds:["water","water-shadow"],layerName:"Water"}]}],layersWithDDS=[].concat(layers,[{layerIds:["states-layer"],layerName:"US States",actions:[{title:"Custom Action",action:function action(){alert("insert custom functions here")}}]},{layerIds:["dc-art-layer"],layerName:"DC Art Galleries"},{layerIds:["football-stadiums-layer"],layerName:["Football Stadiums"]},{layerIds:["river-centerlines-layer"],layerName:["River Centerlines"]}]),layerEdgeCases=[{layerIds:["edge-expression"],layerName:"Style Expression"},{layerIds:["edge-categorical-default"],layerName:"Default Style"}];Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.storiesOf)("LayerList",module).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_6__.withKnobs).add("Default",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_4__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_3__.a,{mapOptions:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_8__.a}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.b)(_LayerList__WEBPACK_IMPORTED_MODULE_2__.a,{baseType:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_6__.radios)("baseType",["none","panel","button"],"panel"),layers:layers,checkboxStyle:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_6__.radios)("checkboxStyle",["checkbox","switch","eye"],"checkbox")})]})})).add("With Legend",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_4__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_3__.a,{mapOptions:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_8__.a}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.b)(_LayerList__WEBPACK_IMPORTED_MODULE_2__.a,{baseType:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_6__.radios)("baseType",["none","panel","button"],"panel"),layers:layers,legend:!0,checkboxStyle:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_6__.radios)("checkboxStyle",["checkbox","switch","eye"],"checkbox")})]})})).add("With Legend (Button Style)",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_4__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_3__.a,{mapOptions:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_8__.a}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.b)(_LayerList__WEBPACK_IMPORTED_MODULE_2__.a,{baseType:"button",layers:layers,legend:!0})]})})).add("With Data Driven Styles",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_4__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_3__.a,{mapOptions:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_8__.a,mapLayers:_util_mockMapLayers__WEBPACK_IMPORTED_MODULE_9__.a}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.b)(_LayerList__WEBPACK_IMPORTED_MODULE_2__.a,{baseType:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_6__.radios)("baseType",["none","panel","button"],"panel"),layers:layersWithDDS,legend:!0,checkboxStyle:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_6__.radios)("checkboxStyle",["checkbox","switch","eye"],"checkbox")})]})})).add("With Action Menu",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_4__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_3__.a,{mapOptions:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_8__.a}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.b)(_LayerList__WEBPACK_IMPORTED_MODULE_2__.a,{baseType:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_6__.radios)("baseType",["none","panel","button"],"panel"),layers:layers,showActions:!0,checkboxStyle:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_6__.radios)("checkboxStyle",["checkbox","switch","eye"],"checkbox")})]})})).add("Groups",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_4__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_3__.a,{mapOptions:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_8__.a}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.b)(_LayerList__WEBPACK_IMPORTED_MODULE_2__.a,{baseType:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_6__.radios)("baseType",["none","panel","button"],"panel"),layers:layers2,groupLayers:groupLayers,checkboxStyle:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_6__.radios)("checkboxStyle",["checkbox","switch","eye"],"checkbox")})]})})).add("Edge Cases",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_4__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_3__.a,{mapOptions:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_8__.a,mapLayers:_util_mockMapLayers__WEBPACK_IMPORTED_MODULE_9__.b}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.b)(_LayerList__WEBPACK_IMPORTED_MODULE_2__.a,{baseType:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_6__.radios)("baseType",["none","panel","button"],"panel"),layers:layerEdgeCases,legend:!0,checkboxStyle:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_6__.radios)("checkboxStyle",["checkbox","switch","eye"],"checkbox")})]})}))}.call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/components/Map/Map.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/index.js"),theme_ui__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@theme-ui/components/dist/theme-ui-components.esm.js"),mapbox_gl__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/mapbox-gl/dist/mapbox-gl.js"),mapbox_gl__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(mapbox_gl__WEBPACK_IMPORTED_MODULE_8__),_DefaultContext__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/DefaultContext.js"),_common_AlertModal__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/components/_common/AlertModal.js"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),_excluded=["mapOptions","mapLayers","supportMessage","sx"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Map=function Map(_ref){var map,mapOptions=_ref.mapOptions,mapLayers=_ref.mapLayers,supportMessage=_ref.supportMessage,sx=_ref.sx,rest=_objectWithoutProperties(_ref,_excluded),setMap=Object(react__WEBPACK_IMPORTED_MODULE_6__.useContext)(_DefaultContext__WEBPACK_IMPORTED_MODULE_9__.a).setMap;return Object(react__WEBPACK_IMPORTED_MODULE_6__.useEffect)((function(){map=new mapbox_gl__WEBPACK_IMPORTED_MODULE_8___default.a.Map(mapOptions),setMap(map),function addLayers(layers){layers&&map.on("load",(function(){layers.forEach((function(l){map.addLayer(l)}))}))}(mapLayers)}),[]),mapbox_gl__WEBPACK_IMPORTED_MODULE_8___default.a.supported()?Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.b)(theme_ui__WEBPACK_IMPORTED_MODULE_7__.b,Object.assign({},rest,{sx:Object.assign({width:"100vw",height:"100vh"},sx),ref:function ref(el){mapOptions.container=el},className:"cl-map-container"})):Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.b)(_common_AlertModal__WEBPACK_IMPORTED_MODULE_10__.a,{message:supportMessage||"WARNING! Your browser does not currently support this application, which requires MapboxGL. \n    Please ensure you are using the latest version of Chrome, Firefox, or Edge.\n    Additionally, check https://get.webgl.org/ for compatibility with your system."})};Map.displayName="Map",Map.__docgenInfo={description:"",methods:[],displayName:"Map"},__webpack_exports__.a=Map,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Map/Map.js"]={name:"Map",docgenInfo:Map.__docgenInfo,path:"src/components/Map/Map.js"})},"./src/components/Map/Map.stories.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__("./node_modules/react/index.js");var _common_ElementsProvider__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/_common/ElementsProvider.js"),_Map__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Map/Map.js"),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js"),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@storybook/addon-knobs/dist/index.js"),_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__("./node_modules/mapbox-gl/dist/mapbox-gl.css"),__webpack_require__("./src/util/mockMapOptions.js")),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),__STORY__="import React from 'react';\nimport ElementsProvider from '../_common/ElementsProvider';\nimport Map from './Map';\nimport { storiesOf } from '@storybook/react';\nimport { withKnobs } from '@storybook/addon-knobs';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport mapOptions from '../../util/mockMapOptions';\n\nstoriesOf('Map', module)\n  .addDecorator(withKnobs)\n  .add('Default', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={mapOptions} />\n      </ElementsProvider>\n    );\n  });\n",__LOCATIONS_MAP__={default:{startLoc:{col:7,line:11},endLoc:{col:3,line:17},startBody:{col:18,line:11},endBody:{col:3,line:17}}};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("Map",module).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.withKnobs).add("Default",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.b)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_1__.a,{children:Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.b)(_Map__WEBPACK_IMPORTED_MODULE_2__.a,{mapOptions:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_6__.a})})}))}.call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/components/MapInfo/MapInfo.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/react/index.js"),numeral__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/numeral/numeral.js"),numeral__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(numeral__WEBPACK_IMPORTED_MODULE_16__),react_icons_fa__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/react-icons/fa/index.esm.js"),_DefaultContext__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./src/DefaultContext.js"),_util_mapExists__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./src/util/mapExists.js"),_common_BaseComponent__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./src/components/_common/BaseComponent.js"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),_excluded=["baseType","buttonOptions","sx"];function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var MapInfo=function MapInfo(_ref){var baseType=_ref.baseType,buttonOptions=_ref.buttonOptions,sx=_ref.sx,rest=_objectWithoutProperties(_ref,_excluded),map=Object(react__WEBPACK_IMPORTED_MODULE_15__.useContext)(_DefaultContext__WEBPACK_IMPORTED_MODULE_18__.a).map,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)(""),2),mapCenter=_useState2[0],setMapCenter=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)(""),2),bounds=_useState4[0],setBounds=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)(""),2),zoom=_useState6[0],setZoom=_useState6[1],_useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)(""),2),mouseCoords=_useState8[0],setMouseCoords=_useState8[1];function displayCenter(){var lngLat=numeral__WEBPACK_IMPORTED_MODULE_16___default()(map.getCenter().lng).format("0.00000")+", "+numeral__WEBPACK_IMPORTED_MODULE_16___default()(map.getCenter().lat).format("0.00000");setMapCenter(lngLat)}function displayZoom(){setZoom(numeral__WEBPACK_IMPORTED_MODULE_16___default()(map.getZoom()).format("0.00"))}function displayBounds(){var mapBounds=map.getBounds(),display="["+numeral__WEBPACK_IMPORTED_MODULE_16___default()(mapBounds._sw.lng).format("0.00000")+", "+numeral__WEBPACK_IMPORTED_MODULE_16___default()(mapBounds._sw.lat).format("0.00000")+", "+numeral__WEBPACK_IMPORTED_MODULE_16___default()(mapBounds._ne.lng).format("0.00000")+", "+numeral__WEBPACK_IMPORTED_MODULE_16___default()(mapBounds._ne.lat).format("0.00000")+"]";setBounds(display)}return Object(react__WEBPACK_IMPORTED_MODULE_15__.useEffect)((function(){Object(_util_mapExists__WEBPACK_IMPORTED_MODULE_19__.a)(map)&&map.on("load",(function(){displayCenter(),displayZoom(),displayBounds(),map.on("move",(function(){displayCenter(),displayBounds()})),map.on("zoom",(function(){displayZoom()})),map.on("mousemove",(function(e){!function displayMouseCoords(e){var lngLat=numeral__WEBPACK_IMPORTED_MODULE_16___default()(e.lngLat.lng).format("0.00000")+", "+numeral__WEBPACK_IMPORTED_MODULE_16___default()(e.lngLat.lat).format("0.00000");setMouseCoords(lngLat)}(e)}))}))}),[map]),Object(_util_mapExists__WEBPACK_IMPORTED_MODULE_19__.a)(map)?Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.b)(_common_BaseComponent__WEBPACK_IMPORTED_MODULE_20__.a,Object.assign({className:"cl-mapinfo",baseType:baseType||"none",buttonOptions:Object.assign({icon:Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.b)(react_icons_fa__WEBPACK_IMPORTED_MODULE_17__.g,{}),title:"Map Info",testId:"cl-mapinfo-btn"},buttonOptions),sx:Object.assign({padding:2,fontSize:"9px",bg:"primary",color:"panel"===baseType?"text":"background"},sx)},rest,{children:"Center (lon/lat): "+mapCenter+" degrees; Zoom: "+zoom+"; Cursor: "+mouseCoords+"; Bounds: "+bounds})):null};MapInfo.displayName="MapInfo",MapInfo.__docgenInfo={description:"",methods:[],displayName:"MapInfo"},__webpack_exports__.a=MapInfo,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MapInfo/MapInfo.js"]={name:"MapInfo",docgenInfo:MapInfo.__docgenInfo,path:"src/components/MapInfo/MapInfo.js"})},"./src/components/MapInfo/MapInfo.stories.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__("./node_modules/react/index.js");var _MapInfo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/MapInfo/MapInfo.js"),_Map_Map__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Map/Map.js"),_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/_common/ElementsProvider.js"),_storybook_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js"),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@storybook/addon-knobs/dist/index.js"),_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__("./node_modules/mapbox-gl/dist/mapbox-gl.css"),__webpack_require__("./src/util/mockMapOptions.js")),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),__STORY__="import React from 'react';\nimport MapInfo from './MapInfo';\nimport Map from '../Map/Map';\nimport ElementsProvider from '../_common/ElementsProvider';\nimport { storiesOf } from '@storybook/react';\nimport { withKnobs, radios } from '@storybook/addon-knobs';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport mapOptions from '../../util/mockMapOptions';\n\nstoriesOf('MapInfo', module)\n  .addDecorator(withKnobs)\n  .add('Default', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={mapOptions}>\n          <MapInfo\n            baseType={radios('baseType', ['none', 'panel', 'button'], 'none')}\n          />\n        </Map>\n      </ElementsProvider>\n    );\n  });\n",__LOCATIONS_MAP__={default:{startLoc:{col:7,line:12},endLoc:{col:3,line:22},startBody:{col:18,line:12},endBody:{col:3,line:22}}};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_4__.storiesOf)("MapInfo",module).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_5__.withKnobs).add("Default",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.b)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_3__.a,{children:Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_2__.a,{mapOptions:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__.a,children:Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.b)(_MapInfo__WEBPACK_IMPORTED_MODULE_1__.a,{baseType:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_5__.radios)("baseType",["none","panel","button"],"none")})})})}))}.call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/components/MapPopup/MapPopup.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),react_dom_default=__webpack_require__.n(react_dom),theme_ui_components_esm=__webpack_require__("./node_modules/@theme-ui/components/dist/theme-ui-components.esm.js"),mapbox_gl=__webpack_require__("./node_modules/mapbox-gl/dist/mapbox-gl.js"),DefaultContext=__webpack_require__("./src/DefaultContext.js"),List=__webpack_require__("./src/components/_primitives/List.js"),ListItem=__webpack_require__("./src/components/_primitives/ListItem.js"),mapExists=__webpack_require__("./src/util/mapExists.js"),reach_menu_button_esm=__webpack_require__("./node_modules/@reach/menu-button/dist/reach-menu-button.esm.js"),theme_ui_jsx_runtime_esm=(__webpack_require__("./node_modules/@reach/menu-button/styles.css"),__webpack_require__("./node_modules/theme-ui/jsx-runtime/dist/theme-ui-jsx-runtime.esm.js"));function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var PopupActionsMenu_PopupActionsMenu=function PopupActionsMenu(_ref){var feature=_ref.feature,popupActions=_ref.popupActions,_useState2=_slicedToArray(Object(react.useState)(!1),2),loading=_useState2[0],setLoading=_useState2[1];return popupActions&&popupActions.length>0?Object(theme_ui_jsx_runtime_esm.b)(reach_menu_button_esm.a,{className:"cl-popup-action-menu",children:[Object(theme_ui_jsx_runtime_esm.a)(reach_menu_button_esm.b,{sx:{color:"text",bg:"white",borderStyle:"none",fontSize:1,float:"right",":hover":{cursor:"pointer"}},children:loading?Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.s,{size:14}):"..."}),Object(theme_ui_jsx_runtime_esm.b)(reach_menu_button_esm.e,{sx:{zIndex:3,fontFamily:"roboto, sans-serif"},children:[" ",Object(theme_ui_jsx_runtime_esm.a)(reach_menu_button_esm.d,{children:popupActions.map((function(action){return Object(theme_ui_jsx_runtime_esm.a)(reach_menu_button_esm.c,{onSelect:function onSelect(){action.action(feature,setLoading)},children:action.title},action.title)}))})]})]}):null};PopupActionsMenu_PopupActionsMenu.__docgenInfo={description:"",methods:[],displayName:"PopupActionsMenu"};var MapPopup_PopupActionsMenu=PopupActionsMenu_PopupActionsMenu;function MapPopup_slicedToArray(arr,i){return function MapPopup_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function MapPopup_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function MapPopup_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return MapPopup_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MapPopup_arrayLikeToArray(o,minLen)}(arr,i)||function MapPopup_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MapPopup_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MapPopup/PopupActionsMenu.js"]={name:"PopupActionsMenu",docgenInfo:PopupActionsMenu_PopupActionsMenu.__docgenInfo,path:"src/components/MapPopup/PopupActionsMenu.js"});var MapPopup_Container=function Container(_ref){var actionsMenu,properties=_ref.properties,config=_ref.config,showActions=_ref.showActions,feature=_ref.feature;return actionsMenu=showActions&&config.actions&&config.actions.length>0?Object(theme_ui_jsx_runtime_esm.a)(MapPopup_PopupActionsMenu,{popupActions:config.actions,feature:feature}):null,Object(theme_ui_jsx_runtime_esm.b)(theme_ui_components_esm.b,{children:[config.title&&config.title.field?Object(theme_ui_jsx_runtime_esm.a)(MapPopup_Title,{properties:properties,config:config.title}):null,Object(theme_ui_jsx_runtime_esm.a)(MapPopup_Items,{properties:properties,config:config.attributes}),actionsMenu]})};MapPopup_Container.displayName="Container";var MapPopup_Title=function Title(_ref2){var properties=_ref2.properties,config=_ref2.config;return Object.prototype.hasOwnProperty.call(properties,config.field)?Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.b,{sx:{fontWeight:700,margin:"0 0 5px 0",padding:0,textAlign:"center",borderBottomWidth:"1px",borderBottomStyle:"solid",borderColor:"gray"},children:properties[config.field]}):null};MapPopup_Title.displayName="Title";var MapPopup_Items=function Items(_ref3){var properties=_ref3.properties,config=_ref3.config,buildValue=function buildValue(type,value){switch(type){case"text":return function setText(value){return Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.t,{sx:{display:"inline"},children:value})}(value);case"link":return function setLink(value){return Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.o,{href:value,target:"_blank",rel:"nofollow",children:"view link"})}(value);case"image":return function setImage(value){return Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.o,{href:value,target:"_blank",rel:"nofollow",children:Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.l,{sx:{minHeight:100,width:"100%"},src:value})})}(value);default:return!1}},attributes=config.filter((function(attribute){return properties[attribute.field]})).map((function(attribute){var label=attribute.label?attribute.label+":":null;return Object(theme_ui_jsx_runtime_esm.a)(ListItem.a,{sx:{margin:0,padding:0},children:Object(theme_ui_jsx_runtime_esm.b)(theme_ui_components_esm.b,{children:[Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.t,{sx:{display:"inline",fontWeight:600,marginRight:"3px",color:"secondary"},children:label}),attribute.expression?buildValue(attribute.type,attribute.expression(properties[attribute.field])):buildValue(attribute.type,properties[attribute.field])]})},attribute.label)}));return Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.b,{sx:{maxHeight:"250px",overflowY:"auto",overflowX:"auto"},children:Object(theme_ui_jsx_runtime_esm.a)(List.a,{sx:{margin:0,padding:0,listStyle:"none"},children:attributes})})};MapPopup_Items.displayName="Items";var instance,mapInstance,configs,busy,createInstance,mPopup=(configs={},busy=!1,createInstance=function createInstance(showActions,popupContainer,map){return mapInstance=map,function(event){if(!busy){!function setBusy(duration){busy=!0,setTimeout((function(){busy=!1}),duration)}(10);var layerIds=Object.keys(configs);!function buildPopupContents(_x){return _buildPopupContents.apply(this,arguments)}(map.queryRenderedFeatures(event.point,{layers:layerIds}))}function _buildPopupContents(){return _buildPopupContents=_asyncToGenerator(regeneratorRuntime.mark((function _callee(features){var Pages,i,feature,page,properties,ElementsPopup;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:Pages=[],i=0;case 2:if(!(i<features.length)){_context.next=24;break}if(feature=features[i],page=void 0,!configs[feature.layer.id].intercept){_context.next=19;break}return _context.prev=6,_context.next=9,configs[feature.layer.id].intercept(feature.properties);case 9:properties=_context.sent,page=react_default.a.createElement(MapPopup_Container,{properties:properties,config:configs[feature.layer.id],showActions:showActions,feature:feature||null}),_context.next=17;break;case 13:_context.prev=13,_context.t0=_context.catch(6),console.error(_context.t0),page=null;case 17:_context.next=20;break;case 19:page=react_default.a.createElement(MapPopup_Container,{properties:feature.properties,config:configs[feature.layer.id],showActions:showActions,feature:feature||null});case 20:Pages.push(page);case 21:i+=1,_context.next=2;break;case 24:ElementsPopup=function ElementsPopup(_ref4){var items=_ref4.items,_useState2=MapPopup_slicedToArray(Object(react.useState)(items[0]),2),currentItem=_useState2[0],setCurrentItem=_useState2[1],_useState4=MapPopup_slicedToArray(Object(react.useState)(0),2),currentPage=_useState4[0],setCurrentPage=_useState4[1];return Object(theme_ui_jsx_runtime_esm.b)(theme_ui_components_esm.b,{children:[currentItem,items.length>1?Object(theme_ui_jsx_runtime_esm.a)((function Paginate(){return Object(theme_ui_jsx_runtime_esm.b)(theme_ui_components_esm.b,{children:[0===currentPage?null:Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.t,{mr:1,sx:{float:"left"},children:Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.c,{sx:{padding:"4px 4px",background:"background"},href:"#",onClick:function prevPage(e){e.preventDefault(),setCurrentItem(items[currentPage-1]),setCurrentPage(currentPage-1)},children:"Previous"})}),currentPage===items.length-1?null:Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.t,{mr:1,sx:{float:"left"},children:Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.c,{sx:{padding:"4px 4px",background:"background"},href:"#",onClick:function nextPage(e){e.preventDefault(),setCurrentItem(items[currentPage+1]),setCurrentPage(currentPage+1)},children:"Next"})}),Object(theme_ui_jsx_runtime_esm.b)(theme_ui_components_esm.t,{sx:{float:"right"},mt:"4px",children:[currentPage+1,"/",items.length]})]})}),{}):null]})},react_dom_default.a.render(Object(theme_ui_jsx_runtime_esm.a)(ElementsPopup,{items:Pages}),popupContainer),(new mapbox_gl.Popup).setLngLat(event.lngLat).setDOMContent(popupContainer).addTo(map);case 27:case"end":return _context.stop()}}),_callee,null,[[6,13]])}))),_buildPopupContents.apply(this,arguments)}}},{getInstance:function getInstance(showActions,popupContainer,map,config){return configs[config.layerId]||(configs[config.layerId]=Object.assign({},config)),instance?map!==mapInstance&&(instance=createInstance(showActions,popupContainer,map)):instance=createInstance(showActions,popupContainer,map),instance},created:function created(){return!!instance}});__webpack_exports__.a=function MapPopup(_ref5){var layers=_ref5.layers,showActions=_ref5.showActions,disabled=_ref5.disabled,map=Object(react.useContext)(DefaultContext.a).map,popupContainer=document.createElement("Box");if(!Object(mapExists.a)(map))return null;var deregisterEvent=function deregisterEvent(cfg){var popup=mPopup.getInstance(showActions,popupContainer,map,cfg);try{map.off("click",cfg.layerId,popup)}catch(err){}};return disabled?mPopup.created()&&layers.forEach((function(cfg){deregisterEvent(cfg)})):(mPopup.created()&&layers.forEach((function(cfg){deregisterEvent(cfg)})),layers.forEach((function(cfg){!function registerEvent(cfg){var popup=mPopup.getInstance(showActions,popupContainer,map,cfg);try{map.off("click",cfg.layerId,popup),map.on("click",cfg.layerId,popup)}catch(err){}}(cfg)}))),null}},"./src/components/MapPopup/MapPopup.stories.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/react/index.js");var _MapPopup__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/MapPopup/MapPopup.js"),_Map_Map__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/Map/Map.js"),_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/components/_common/ElementsProvider.js"),_storybook_react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js"),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@storybook/addon-knobs/dist/index.js"),_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_14__=(__webpack_require__("./node_modules/mapbox-gl/dist/mapbox-gl.css"),__webpack_require__("./src/util/mockMapOptions.js")),_util_mockMapLayers__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/util/mockMapLayers.js"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}var _intercept,__STORY__="import React from 'react';\nimport MapPopup from './MapPopup';\nimport Map from '../Map/Map';\nimport ElementsProvider from '../_common/ElementsProvider';\nimport { storiesOf } from '@storybook/react';\nimport { withKnobs, boolean } from '@storybook/addon-knobs';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport mapOptions from '../../util/mockMapOptions';\nimport mapLayers from '../../util/mockMapLayers';\n\nconst customMapOptions = Object.assign({}, mapOptions, {\n  center: [-100.207672, 39.581878],\n  zoom: 3,\n  bounds: null\n});\n\nconst popupLayers = [\n  {\n    layerId: 'dc-art-layer',\n    title: {\n      field: 'ART_TYPE'\n    },\n    attributes: [\n      {\n        field: 'LOCATION',\n        label: 'Location',\n        type: 'text'\n      },\n      {\n        field: 'ARTIST',\n        label: 'Artist',\n        type: 'text'\n      },\n      {\n        field: 'TITLE',\n        label: 'Title',\n        type: 'text'\n      }\n    ]\n  },\n  {\n    layerId: 'football-stadiums-layer',\n    title: {\n      field: 'name1'\n    },\n    attributes: [\n      {\n        field: 'conference',\n        label: 'Conference',\n        type: 'text'\n      }\n    ]\n  },\n  {\n    layerId: 'states-layer', // id of layer on map\n    title: {\n      field: 'name'\n    }, // popup title field\n    intercept: async function (properties) {\n      // mock getting some external data\n      return new Promise(function (resolve, reject) {\n        setTimeout(function () {\n          resolve(Object.assign(properties, { source: 'intercept' }));\n        }, 250);\n      });\n    },\n    attributes: [\n      {\n        field: 'wikipedia', // original field name\n        label: 'Wiki', // desired label\n        type: 'link' // text, link, image\n      },\n      {\n        field: 'source',\n        label: 'Source',\n        type: 'text'\n      },\n      {\n        field: 'postal',\n        label: 'Postal',\n        type: 'text'\n      },\n      {\n        field: 'region',\n        label: 'Region',\n        type: 'text'\n      },\n      {\n        field: 'name',\n        label: 'Image',\n        type: 'image',\n        expression: function (val) {\n          return `https://raw.githubusercontent.com/tannerjt/state_images.json/master/images/${val\n            .toLowerCase()\n            .replace(' ', '_')}.jpg`;\n        }\n      }\n    ],\n    actions: [\n      {\n        title: 'Custom Action',\n        action: (feature, setLoading) => {\n          setLoading(true);\n          setTimeout(() => {\n            alert(\n              `${feature.properties.name} in the \"${feature.layer.id}\" map layer `\n            );\n            setLoading(false);\n          }, 1500);\n        }\n      }\n    ]\n  }\n];\n\nstoriesOf('Popup', module)\n  .addDecorator(withKnobs)\n  .add('Default', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={customMapOptions} mapLayers={mapLayers} />\n        <MapPopup layers={popupLayers} disabled={boolean('Disabled', false)} />\n      </ElementsProvider>\n    );\n  })\n  .add('With Action Menu', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={customMapOptions} mapLayers={mapLayers} />\n        <MapPopup\n          layers={popupLayers}\n          disabled={boolean('Disabled', false)}\n          showActions\n        />\n      </ElementsProvider>\n    );\n  });\n",__LOCATIONS_MAP__={"with-action-menu":{startLoc:{col:7,line:126},endLoc:{col:3,line:137},startBody:{col:27,line:126},endBody:{col:3,line:137}},default:{startLoc:{col:7,line:118},endLoc:{col:3,line:125},startBody:{col:18,line:118},endBody:{col:3,line:125}}},customMapOptions=Object.assign({},_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_14__.a,{center:[-100.207672,39.581878],zoom:3,bounds:null}),popupLayers=[{layerId:"dc-art-layer",title:{field:"ART_TYPE"},attributes:[{field:"LOCATION",label:"Location",type:"text"},{field:"ARTIST",label:"Artist",type:"text"},{field:"TITLE",label:"Title",type:"text"}]},{layerId:"football-stadiums-layer",title:{field:"name1"},attributes:[{field:"conference",label:"Conference",type:"text"}]},{layerId:"states-layer",title:{field:"name"},intercept:(_intercept=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(properties){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",new Promise((function(resolve,reject){setTimeout((function(){resolve(Object.assign(properties,{source:"intercept"}))}),250)})));case 1:case"end":return _context.stop()}}),_callee)}))),function intercept(_x){return _intercept.apply(this,arguments)}),attributes:[{field:"wikipedia",label:"Wiki",type:"link"},{field:"source",label:"Source",type:"text"},{field:"postal",label:"Postal",type:"text"},{field:"region",label:"Region",type:"text"},{field:"name",label:"Image",type:"image",expression:function expression(val){return"https://raw.githubusercontent.com/tannerjt/state_images.json/master/images/"+val.toLowerCase().replace(" ","_")+".jpg"}}],actions:[{title:"Custom Action",action:function action(feature,setLoading){setLoading(!0),setTimeout((function(){alert(feature.properties.name+' in the "'+feature.layer.id+'" map layer '),setLoading(!1)}),1500)}}]}];Object(_storybook_react__WEBPACK_IMPORTED_MODULE_11__.storiesOf)("Popup",module).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_12__.withKnobs).add("Default",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_10__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_9__.a,{mapOptions:customMapOptions,mapLayers:_util_mockMapLayers__WEBPACK_IMPORTED_MODULE_15__.a}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.b)(_MapPopup__WEBPACK_IMPORTED_MODULE_8__.a,{layers:popupLayers,disabled:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_12__.boolean)("Disabled",!1)})]})})).add("With Action Menu",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_10__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_9__.a,{mapOptions:customMapOptions,mapLayers:_util_mockMapLayers__WEBPACK_IMPORTED_MODULE_15__.a}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.b)(_MapPopup__WEBPACK_IMPORTED_MODULE_8__.a,{layers:popupLayers,disabled:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_12__.boolean)("Disabled",!1),showActions:!0})]})}))}.call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/components/Measure/Measure.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js");var react=__webpack_require__("./node_modules/react/index.js"),theme_ui_components_esm=__webpack_require__("./node_modules/@theme-ui/components/dist/theme-ui-components.esm.js"),index_esm=__webpack_require__("./node_modules/react-icons/md/index.esm.js"),fa_index_esm=__webpack_require__("./node_modules/react-icons/fa/index.esm.js"),numeral=__webpack_require__("./node_modules/numeral/numeral.js"),numeral_default=__webpack_require__.n(numeral),ButtonGroup=__webpack_require__("./src/components/_primitives/ButtonGroup.js"),DefaultContext=__webpack_require__("./src/DefaultContext.js"),mapExists=__webpack_require__("./src/util/mapExists.js");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function calculateMeasurements(_x,_x2){return _calculateMeasurements.apply(this,arguments)}function _calculateMeasurements(){return(_calculateMeasurements=_asyncToGenerator(regeneratorRuntime.mark((function _callee(feature,units){var _yield$import,area,_yield$import2,length,drawnLength,drawnArea,measurement;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,__webpack_require__.e(5).then(__webpack_require__.bind(null,"./node_modules/@turf/area/dist/es/index.js"));case 2:return _yield$import=_context.sent,area=_yield$import.default,_context.next=6,__webpack_require__.e(6).then(__webpack_require__.bind(null,"./node_modules/@turf/length/dist/es/index.js"));case 6:if(_yield$import2=_context.sent,length=_yield$import2.default,drawnLength=1e3*length(feature),drawnArea=area(feature),!(drawnLength>drawnArea)){_context.next=26;break}_context.t0=units,_context.next="m"===_context.t0?14:"ft"===_context.t0?16:"km"===_context.t0?18:"mi"===_context.t0?20:22;break;case 14:case 22:return measurement=drawnLength,_context.abrupt("break",24);case 16:return measurement=3.28084*drawnLength,_context.abrupt("break",24);case 18:return measurement=drawnLength/1e3,_context.abrupt("break",24);case 20:return measurement=621371e-9*drawnLength,_context.abrupt("break",24);case 24:_context.next=41;break;case 26:_context.t1=units,_context.next="m²"===_context.t1?29:"ft²"===_context.t1?31:"km²"===_context.t1?33:"mi²"===_context.t1?35:"ac"===_context.t1?37:39;break;case 29:case 39:return measurement=drawnArea,_context.abrupt("break",41);case 31:return measurement=10.7639*drawnArea,_context.abrupt("break",41);case 33:return measurement=drawnArea/1e6,_context.abrupt("break",41);case 35:return measurement=drawnArea/2589988.1103,_context.abrupt("break",41);case 37:return measurement=247105e-9*drawnArea,_context.abrupt("break",41);case 41:return _context.abrupt("return",measurement);case 42:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}var BaseComponent=__webpack_require__("./src/components/_common/BaseComponent.js"),theme_ui_jsx_runtime_esm=(__webpack_require__("./node_modules/@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css"),__webpack_require__("./node_modules/theme-ui/jsx-runtime/dist/theme-ui-jsx-runtime.esm.js")),_excluded=["baseType","buttonOptions","sx"];function Measure_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function Measure_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){Measure_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){Measure_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Measure_Measure=function Measure(_ref){var baseType=_ref.baseType,buttonOptions=_ref.buttonOptions,sx=_ref.sx,rest=_objectWithoutProperties(_ref,_excluded),map=Object(react.useContext)(DefaultContext.a).map,_useState2=_slicedToArray(Object(react.useState)(null),2),measureControl=_useState2[0],setMeasureControl=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(!1),2),areaPopupOpen=_useState4[0],setAreaPopupOpen=_useState4[1],_useState6=_slicedToArray(Object(react.useState)(!1),2),linePopupOpen=_useState6[0],setLinePopupOpen=_useState6[1],_useState8=_slicedToArray(Object(react.useState)(0),2),measurement=_useState8[0],setMeasurement=_useState8[1],_useState10=_slicedToArray(Object(react.useState)("m"),2),units=_useState10[0],setUnits=_useState10[1],_useState12=_slicedToArray(Object(react.useState)(!1),2),showDelete=_useState12[0],setShowDelete=_useState12[1],lengthOptions=["m","ft","km","mi"],areaOptions=["m²","ft²","km²","mi²","ac"];function handleMeasurement(){return _handleMeasurement.apply(this,arguments)}function _handleMeasurement(){return(_handleMeasurement=Measure_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _measureControl$getAl,features,feature,drawnMeasurements;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!measureControl){_context.next=8;break}if(_measureControl$getAl=measureControl.getAll(),!((features=_measureControl$getAl.features)&&features.length>0)){_context.next=8;break}return feature=features[0],_context.next=6,calculateMeasurements(feature,units);case 6:drawnMeasurements=_context.sent,setMeasurement(drawnMeasurements);case 8:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}if(Object(react.useEffect)((function(){handleMeasurement()}),[units]),!Object(mapExists.a)(map))return null;var deleteButton,changeUnits=function changeUnits(e){setUnits(e.currentTarget.value)};function startDraw(_x){return _startDraw.apply(this,arguments)}function _startDraw(){return(_startDraw=Measure_asyncToGenerator(regeneratorRuntime.mark((function _callee2(type){var measure;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(Object(mapExists.a)(map)){_context2.next=2;break}return _context2.abrupt("return");case 2:if(measure=measureControl||!1,measureControl){_context2.next=9;break}return _context2.next=6,__webpack_require__.e(0).then(__webpack_require__.t.bind(null,"./node_modules/@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.js",7)).then((function(_ref2){return new(0,_ref2.default)({displayControlsDefault:!1})}));case 6:measure=_context2.sent,setMeasureControl(measure),map.addControl(measure);case 9:measure.changeMode(type),"draw_line_string"===type?setUnits("m"):"draw_polygon"===type&&setUnits("mÂ²"),setShowDelete(!0);case 12:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}map.on("draw.render",(function(){handleMeasurement()})),showDelete&&(deleteButton=Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.c,{title:"Delete Measurement",className:"draw-tool draw-tool--delete",onClick:function onClick(){!function reset(){measureControl.deleteAll(),setMeasurement(0),measureControl.changeMode("simple_select"),setShowDelete(!1),setAreaPopupOpen(!1),setLinePopupOpen(!1)}()},children:Object(theme_ui_jsx_runtime_esm.a)(fa_index_esm.o,{})}));var displayContent,display=linePopupOpen||areaPopupOpen?"block":"none";return linePopupOpen&&!areaPopupOpen?displayContent=Object(theme_ui_jsx_runtime_esm.b)(theme_ui_components_esm.h,{children:[Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.b,{children:""+numeral_default()(measurement).format("0,0.00")}),Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.q,{name:"measure-units",sx:{position:"relative",width:55,border:"none",paddingTop:0},onChange:changeUnits,defaultValue:lengthOptions[0],children:lengthOptions.map((function(option){return Object(theme_ui_jsx_runtime_esm.a)("option",{sx:{color:"text"},children:option},option)}))})]}):!linePopupOpen&&areaPopupOpen&&(displayContent=Object(theme_ui_jsx_runtime_esm.b)(theme_ui_components_esm.h,{children:[Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.b,{sx:{color:"background"},children:""+numeral_default()(measurement).format("0,0.00")}),Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.q,{name:"measure-units",sx:{color:"background",position:"relative",width:55,border:"none",paddingTop:0},onChange:changeUnits,defaultValue:areaOptions[0],children:areaOptions.map((function(option){return Object(theme_ui_jsx_runtime_esm.a)("option",{sx:{color:"text"},children:option},option)}))})]})),Object(theme_ui_jsx_runtime_esm.b)(BaseComponent.a,Object.assign({className:"cl-measure-tools",baseType:baseType||"none",sx:sx,buttonOptions:Object.assign({icon:Object(theme_ui_jsx_runtime_esm.a)(fa_index_esm.m,{}),title:"Measure",testId:"cl-measure-btn"},buttonOptions)},rest,{children:[Object(theme_ui_jsx_runtime_esm.b)(ButtonGroup.a,{children:[Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.c,{height:33.5,className:"draw-tool",onClick:function onClick(){measureControl.changeMode("simple_select"),setLinePopupOpen(!1),setAreaPopupOpen(!1)},children:Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.t,{sx:{fontSize:"12px"},children:"Measure"})}),Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.c,{title:"Measure Line",className:"draw-tool draw-tool--line",onClick:function onClick(){startDraw("draw_line_string"),setLinePopupOpen(!0),setAreaPopupOpen(!1)},children:Object(theme_ui_jsx_runtime_esm.a)(index_esm.e,{})}),Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.c,{title:"Measure Area",className:"draw-tool draw-tool--polygon",onClick:function onClick(){startDraw("draw_polygon"),setAreaPopupOpen(!0),setLinePopupOpen(!1)},children:Object(theme_ui_jsx_runtime_esm.a)(fa_index_esm.b,{})}),deleteButton]}),Object(theme_ui_jsx_runtime_esm.a)(theme_ui_components_esm.b,{bg:"primary",p:2,color:"background",height:"32px",width:135,sx:{display:display,borderColor:"white",borderWidth:1,borderStyle:"solid"},children:displayContent})]}))};Measure_Measure.displayName="Measure",Measure_Measure.__docgenInfo={description:"",methods:[],displayName:"Measure"};__webpack_exports__.a=Measure_Measure;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Measure/Measure.js"]={name:"Measure",docgenInfo:Measure_Measure.__docgenInfo,path:"src/components/Measure/Measure.js"})},"./src/components/Measure/Measure.stories.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__("./node_modules/react/index.js");var _Measure__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Measure/Measure.js"),_Map_Map__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Map/Map.js"),_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/_common/ElementsProvider.js"),_storybook_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js"),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@storybook/addon-knobs/dist/index.js"),_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__("./node_modules/mapbox-gl/dist/mapbox-gl.css"),__webpack_require__("./src/util/mockMapOptions.js")),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),__STORY__="import React from 'react';\nimport Measure from './Measure';\nimport Map from '../Map/Map';\nimport ElementsProvider from '../_common/ElementsProvider';\nimport { storiesOf } from '@storybook/react';\nimport { withKnobs, radios } from '@storybook/addon-knobs';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport mapOptions from '../../util/mockMapOptions';\n\nstoriesOf('Measure', module)\n  .addDecorator(withKnobs)\n  .add('Default', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={mapOptions} />\n        <Measure\n          baseType={radios('baseType', ['none', 'panel', 'button'], 'none')}\n        />\n      </ElementsProvider>\n    );\n  });\n",__LOCATIONS_MAP__={default:{startLoc:{col:7,line:12},endLoc:{col:3,line:21},startBody:{col:18,line:12},endBody:{col:3,line:21}}};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_4__.storiesOf)("Measure",module).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_5__.withKnobs).add("Default",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_3__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_2__.a,{mapOptions:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__.a}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.b)(_Measure__WEBPACK_IMPORTED_MODULE_1__.a,{baseType:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_5__.radios)("baseType",["none","panel","button"],"none")})]})}))}.call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/components/ScaleBar/ScaleBar.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/react/index.js"),mapbox_gl__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/mapbox-gl/dist/mapbox-gl.js"),_DefaultContext__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/DefaultContext.js"),_util_mapExists__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/util/mapExists.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.a=function ScaleBar(props){var position=props.position,maxWidth=props.maxWidth,unit=props.unit,scale=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)(new mapbox_gl__WEBPACK_IMPORTED_MODULE_13__.ScaleControl({maxWidth:maxWidth||100,unit:unit||"imperial"})),1)[0],map=Object(react__WEBPACK_IMPORTED_MODULE_12__.useContext)(_DefaultContext__WEBPACK_IMPORTED_MODULE_14__.a).map;if(!Object(_util_mapExists__WEBPACK_IMPORTED_MODULE_15__.a)(map))return null;var ctrlPosition=position||"bottom-left";return map.on("load",(function(){map.addControl(scale,ctrlPosition)})),null}},"./src/components/ScaleBar/ScaleBar.stories.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _ScaleBar__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ScaleBar/ScaleBar.js"),_Map_Map__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Map/Map.js"),_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/_common/ElementsProvider.js"),_storybook_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js"),_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__("./node_modules/mapbox-gl/dist/mapbox-gl.css"),__webpack_require__("./src/util/mockMapOptions.js")),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),__STORY__="import React from 'react';\nimport ScaleBar from './ScaleBar';\nimport Map from '../Map/Map';\nimport ElementsProvider from '../_common/ElementsProvider';\nimport { storiesOf } from '@storybook/react';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport mapOptions from '../../util/mockMapOptions';\n\nconst customMapOptions = Object.assign({}, mapOptions, {\n  center: [-100.207672, 39.581878],\n  zoom: 3,\n  bounds: null\n});\n\nconst posLabel = 'position';\nconst posOptions = ['top-left', 'top-right', 'bottom-left', 'bottom-right'];\n\nstoriesOf('ScaleBar', module)\n  // .addDecorator(withKnobs)\n  .add('Default (Imperial)', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={customMapOptions} />\n        <ScaleBar />\n      </ElementsProvider>\n    );\n  })\n  .add('Metric Units', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={customMapOptions} />\n        <ScaleBar unit=\"metric\" />\n      </ElementsProvider>\n    );\n  })\n  .add('Nautical Units', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={customMapOptions} />\n        <ScaleBar unit=\"nautical\" />\n      </ElementsProvider>\n    );\n  });\n",__LOCATIONS_MAP__={"nautical-units":{startLoc:{col:7,line:36},endLoc:{col:3,line:43},startBody:{col:25,line:36},endBody:{col:3,line:43}},"metric-units":{startLoc:{col:7,line:28},endLoc:{col:3,line:35},startBody:{col:23,line:28},endBody:{col:3,line:35}},"default-imperial":{startLoc:{col:7,line:20},endLoc:{col:3,line:27},startBody:{col:29,line:20},endBody:{col:3,line:27}}},customMapOptions=Object.assign({},_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_7__.a,{center:[-100.207672,39.581878],zoom:3,bounds:null});Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.storiesOf)("ScaleBar",module).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).add("Default (Imperial)",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_4__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_3__.a,{mapOptions:customMapOptions}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.b)(_ScaleBar__WEBPACK_IMPORTED_MODULE_2__.a,{})]})})).add("Metric Units",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_4__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_3__.a,{mapOptions:customMapOptions}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.b)(_ScaleBar__WEBPACK_IMPORTED_MODULE_2__.a,{unit:"metric"})]})})).add("Nautical Units",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_4__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_3__.a,{mapOptions:customMapOptions}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.b)(_ScaleBar__WEBPACK_IMPORTED_MODULE_2__.a,{unit:"nautical"})]})}))}.call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/components/Search/Search.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js"),theme_ui_components_esm=__webpack_require__("./node_modules/@theme-ui/components/dist/theme-ui-components.esm.js"),reach_combobox_esm=__webpack_require__("./node_modules/@reach/combobox/dist/reach-combobox.esm.js"),index_esm=__webpack_require__("./node_modules/react-icons/fa/index.esm.js"),mapbox_gl=__webpack_require__("./node_modules/mapbox-gl/dist/mapbox-gl.js"),mapbox_gl_default=__webpack_require__.n(mapbox_gl),lodash_debounce=__webpack_require__("./node_modules/lodash.debounce/index.js"),lodash_debounce_default=__webpack_require__.n(lodash_debounce),DefaultContext=__webpack_require__("./src/DefaultContext.js"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),SearchSuggestions_SearchSuggestions=function SearchSuggestions(_ref){var items,suggestions=_ref.suggestions,setSearchInput=_ref.setSearchInput,zIndex=_ref.zIndex;return suggestions&&suggestions.length>0?(items=suggestions.map((function(suggestion){return Object(emotion_react_jsx_runtime_browser_esm.b)(reach_combobox_esm.d,{style:{listStyleType:"none"},value:suggestion.place_name,onClick:function onClick(){setSearchInput(suggestion.place_name)},children:suggestion.place_name},suggestion.id)})),Object(emotion_react_jsx_runtime_browser_esm.b)(reach_combobox_esm.e,{style:{backgroundColor:"#fff",zIndex:zIndex},children:Object(emotion_react_jsx_runtime_browser_esm.b)(reach_combobox_esm.c,{style:{padding:4,fontSize:10},"aria-labelledby":"search",children:items})})):null};SearchSuggestions_SearchSuggestions.__docgenInfo={description:"",methods:[],displayName:"SearchSuggestions"};var Search_SearchSuggestions=SearchSuggestions_SearchSuggestions;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Search/SearchSuggestions.js"]={name:"SearchSuggestions",docgenInfo:SearchSuggestions_SearchSuggestions.__docgenInfo,path:"src/components/Search/SearchSuggestions.js"});__webpack_require__("./node_modules/core-js/modules/es.promise.js");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _suggest(){return(_suggest=_asyncToGenerator(regeneratorRuntime.mark((function _callee(searchText,apiKey){var request,response,data,suggestions;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!(searchText&&searchText.length>=8)){_context.next=14;break}return request=fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/"+encodeURI(searchText)+".json?access_token="+apiKey),_context.next=4,request;case 4:if(!(response=_context.sent).ok){_context.next=11;break}return _context.next=8,response.json();case 8:return data=_context.sent,suggestions=data.features,_context.abrupt("return",suggestions);case 11:throw Error(response.statusText);case 14:return _context.abrupt("return",!1);case 15:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}var util_suggest=function suggest(_x,_x2){return _suggest.apply(this,arguments)};function handleSearchInputChange_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}var handleSearchInputChange=function(){var _ref=function handleSearchInputChange_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){handleSearchInputChange_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){handleSearchInputChange_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(value,setSuggestions,mapboxToken){var searchSuggestions;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,util_suggest(value,mapboxToken);case 2:searchSuggestions=_context.sent,setSuggestions(searchSuggestions);case 4:case"end":return _context.stop()}}),_callee)})));return function handleSearchInputChange(_x,_x2,_x3){return _ref.apply(this,arguments)}}(),util_handleSearchInputChange=handleSearchInputChange;function geocode_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function geocode_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){geocode_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){geocode_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _geocode(){return(_geocode=geocode_asyncToGenerator(regeneratorRuntime.mark((function _callee(searchText,apiKey){var request,response,data,topMatch,geocodingResult;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return request=fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/"+encodeURI(searchText)+".json?access_token="+apiKey),_context.next=3,request;case 3:if(!(response=_context.sent).ok){_context.next=11;break}return _context.next=7,response.json();case 7:return data=_context.sent,topMatch=data.features[0],geocodingResult={id:topMatch.id,placeName:topMatch.place_name,matchScore:topMatch.relevance,accuracy:topMatch.properties.accuracy,coordinates:topMatch.center},_context.abrupt("return",geocodingResult);case 11:throw Error(response.statusText);case 12:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}var util_geocode=function geocode(_x,_x2){return _geocode.apply(this,arguments)};function handleSearchSubmit_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}var handleSearchSubmit=function(){var _ref=function handleSearchSubmit_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){handleSearchSubmit_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){handleSearchSubmit_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(searchValue,callback,mapboxToken){var result;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,util_geocode(searchValue,mapboxToken);case 2:result=_context.sent,callback(result);case 4:case"end":return _context.stop()}}),_callee)})));return function handleSearchSubmit(_x,_x2,_x3){return _ref.apply(this,arguments)}}(),util_handleSearchSubmit=handleSearchSubmit,BaseComponent=__webpack_require__("./src/components/_common/BaseComponent.js"),AlertModal=__webpack_require__("./src/components/_common/AlertModal.js"),_excluded=["mapboxToken","iconOnly","suggestionsZIndex","baseType","buttonOptions","sx"];function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Search_Search=function Search(_ref){var mapboxToken=_ref.mapboxToken,iconOnly=_ref.iconOnly,suggestionsZIndex=_ref.suggestionsZIndex,baseType=_ref.baseType,buttonOptions=_ref.buttonOptions,sx=_ref.sx,rest=_objectWithoutProperties(_ref,_excluded);if(!mapboxToken)return Object(emotion_react_jsx_runtime_browser_esm.b)(AlertModal.a,{message:"No Mapbox token found! The Search tool requires that you pass a token via the 'mapboxToken' prop."});var map=Object(react.useContext)(DefaultContext.a).map,_useState2=_slicedToArray(Object(react.useState)(""),2),searchValue=_useState2[0],setSearchValue=_useState2[1],_useState4=_slicedToArray(Object(react.useState)([]),2),suggestions=_useState4[0],setSuggestions=_useState4[1],_handleSearchInputChange=Object(react.useCallback)(lodash_debounce_default()((function(input){util_handleSearchInputChange(input,setSuggestions,mapboxToken)}),500),[]),btnContent=iconOnly?Object(emotion_react_jsx_runtime_browser_esm.b)(index_esm.n,{}):Object(emotion_react_jsx_runtime_browser_esm.b)("div",{children:Object(emotion_react_jsx_runtime_browser_esm.c)(theme_ui_components_esm.h,{children:[Object(emotion_react_jsx_runtime_browser_esm.b)("span",{children:"Search"}),Object(emotion_react_jsx_runtime_browser_esm.b)(index_esm.n,{})]})}),onSearchComplete=function onSearchComplete(result){result&&result.coordinates&&(map.flyTo({center:result.coordinates,zoom:15}),(new mapbox_gl_default.a.Marker).setLngLat(result.coordinates).addTo(map))};return Object(emotion_react_jsx_runtime_browser_esm.b)(BaseComponent.a,Object.assign({baseType:baseType,sx:sx||"none",buttonOptions:Object.assign({icon:Object(emotion_react_jsx_runtime_browser_esm.b)(index_esm.n,{}),title:"Search",testId:"cl-search-btn"},buttonOptions),className:"cl-search"},rest,{children:Object(emotion_react_jsx_runtime_browser_esm.c)(theme_ui_components_esm.h,{sx:Object.assign({},sx),children:[Object(emotion_react_jsx_runtime_browser_esm.c)(reach_combobox_esm.a,{children:[Object(emotion_react_jsx_runtime_browser_esm.b)(reach_combobox_esm.b,{style:{height:"32px",width:"200px"},autoComplete:"off",value:searchValue,onChange:function onChange(e){setSearchValue(e.target.value),_handleSearchInputChange(e.target.value)}}),Object(emotion_react_jsx_runtime_browser_esm.b)(Search_SearchSuggestions,{zIndex:null!=suggestionsZIndex?suggestionsZIndex:5,suggestions:suggestions,setSearchInput:setSearchValue})]}),Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.c,{sx:{borderTopLeftRadius:0,borderBottomLeftRadius:0,marginLeft:"-0.175rem"},onClick:function onClick(){util_handleSearchSubmit(searchValue,onSearchComplete,mapboxToken)},children:btnContent})]})}))};Search_Search.displayName="Search",Search_Search.__docgenInfo={description:"",methods:[],displayName:"Search"};__webpack_exports__.a=Search_Search;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Search/Search.js"]={name:"Search",docgenInfo:Search_Search.__docgenInfo,path:"src/components/Search/Search.js"})},"./src/components/Search/Search.stories.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__("./node_modules/react/index.js");var _Search__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Search/Search.js"),_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/_common/ElementsProvider.js"),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js"),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@storybook/addon-knobs/dist/index.js"),_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__("./node_modules/mapbox-gl/dist/mapbox-gl.css"),__webpack_require__("./src/util/mockMapOptions.js")),_Map_Map__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/Map/Map.js"),_config__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/config.js"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),__STORY__="import React from 'react';\nimport Search from './Search';\nimport ElementsProvider from '../_common/ElementsProvider';\nimport { storiesOf } from '@storybook/react';\nimport { withKnobs, boolean, radios } from '@storybook/addon-knobs';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport mapOptions from '../../util/mockMapOptions';\nimport Map from '../Map/Map';\nimport config from '../../config';\n\nstoriesOf('Search', module)\n  .addDecorator(withKnobs)\n  .add('Default', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={mapOptions} />\n        <Search\n          iconOnly={boolean('iconOnly', false)}\n          mapboxToken={config.mapboxToken}\n          baseType={radios('baseType', ['none', 'panel', 'button'], 'none')}\n        />\n      </ElementsProvider>\n    );\n  })\n  .add('No Token Alert', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={mapOptions} />\n        <Search\n          iconOnly={boolean('iconOnly', false)}\n          baseType={radios('baseType', ['none', 'panel', 'button'], 'none')}\n        />\n      </ElementsProvider>\n    );\n  });\n",__LOCATIONS_MAP__={"no-token-alert":{startLoc:{col:7,line:25},endLoc:{col:3,line:35},startBody:{col:25,line:25},endBody:{col:3,line:35}},default:{startLoc:{col:7,line:13},endLoc:{col:3,line:24},startBody:{col:18,line:13},endBody:{col:3,line:24}}};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("Search",module).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.withKnobs).add("Default",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_2__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_7__.a,{mapOptions:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_6__.a}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.b)(_Search__WEBPACK_IMPORTED_MODULE_1__.a,{iconOnly:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.boolean)("iconOnly",!1),mapboxToken:_config__WEBPACK_IMPORTED_MODULE_8__.a.mapboxToken,baseType:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.radios)("baseType",["none","panel","button"],"none")})]})})).add("No Token Alert",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_2__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_7__.a,{mapOptions:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_6__.a}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.b)(_Search__WEBPACK_IMPORTED_MODULE_1__.a,{iconOnly:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.boolean)("iconOnly",!1),baseType:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.radios)("baseType",["none","panel","button"],"none")})]})}))}.call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/components/Select/Select.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js"),theme_ui_components_esm=__webpack_require__("./node_modules/@theme-ui/components/dist/theme-ui-components.esm.js"),index_esm=__webpack_require__("./node_modules/react-icons/md/index.esm.js"),fa_index_esm=__webpack_require__("./node_modules/react-icons/fa/index.esm.js"),ButtonGroup=__webpack_require__("./src/components/_primitives/ButtonGroup.js"),BaseComponent=__webpack_require__("./src/components/_common/BaseComponent.js"),DefaultContext=__webpack_require__("./src/DefaultContext.js"),mapExists=__webpack_require__("./src/util/mapExists.js"),ListItem=(__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./src/components/_primitives/ListItem.js")),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var SelectLayerItem_SelectLayerItem=function SelectLayerItem(_ref){var layerName=_ref.layerName,activeSelectLayers=_ref.activeSelectLayers,setActiveSelectLayers=_ref.setActiveSelectLayers,_useState2=_slicedToArray(Object(react.useState)(!1),2),isChecked=_useState2[0],setIsChecked=_useState2[1];Object(react.useEffect)((function(){activeSelectLayers.includes(layerName)?setIsChecked(!0):setIsChecked(!1)}),[activeSelectLayers]);return mapExists.a?Object(emotion_react_jsx_runtime_browser_esm.b)(ListItem.a,{children:Object(emotion_react_jsx_runtime_browser_esm.c)(theme_ui_components_esm.n,{children:[Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.e,{onChange:function handleChange(e){if(e.currentTarget.checked)activeSelectLayers.includes(layerName)||setActiveSelectLayers([].concat(_toConsumableArray(activeSelectLayers),[layerName]));else{var lyrs=activeSelectLayers.filter((function(lyr){return lyr!==layerName}));setActiveSelectLayers(lyrs)}},checked:isChecked}),Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.t,{pt:1,children:layerName})]})},layerName):null};SelectLayerItem_SelectLayerItem.displayName="SelectLayerItem",SelectLayerItem_SelectLayerItem.__docgenInfo={description:"",methods:[],displayName:"SelectLayerItem"};var Select_SelectLayerItem=SelectLayerItem_SelectLayerItem;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Select/SelectLayerItem.js"]={name:"SelectLayerItem",docgenInfo:SelectLayerItem_SelectLayerItem.__docgenInfo,path:"src/components/Select/SelectLayerItem.js"});__webpack_require__("./node_modules/core-js/modules/es.array.fill.js");var util_sourceExists=function sourceExists(map,sourceName){return!!map.getSource(sourceName)};var util_layerExists=function layerExists(map,layerName){return!!map.getLayer(layerName)},util_defaultSelectStyles={fill:{paint:{"fill-color":"aqua","fill-opacity":.3}},line:{paint:{"line-color":"aqua","line-width":4}},circle:{paint:{"circle-color":"aqua","circle-opacity":.7,"circle-radius":5}}};function selectByPoint_toConsumableArray(arr){return function selectByPoint_arrayWithoutHoles(arr){if(Array.isArray(arr))return selectByPoint_arrayLikeToArray(arr)}(arr)||function selectByPoint_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function selectByPoint_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return selectByPoint_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return selectByPoint_arrayLikeToArray(o,minLen)}(arr)||function selectByPoint_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function selectByPoint_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_require__("./node_modules/core-js/modules/es.set.js");var es=__webpack_require__("./node_modules/@turf/boolean-disjoint/dist/es/index.js");function selectByPolygon_toConsumableArray(arr){return function selectByPolygon_arrayWithoutHoles(arr){if(Array.isArray(arr))return selectByPolygon_arrayLikeToArray(arr)}(arr)||function selectByPolygon_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function selectByPolygon_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return selectByPolygon_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return selectByPolygon_arrayLikeToArray(o,minLen)}(arr)||function selectByPolygon_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function selectByPolygon_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var List=__webpack_require__("./src/components/_primitives/List.js"),_excluded=["selectableLayers","showSelectableLayers","onSelectCallback","onResetCallback","selectStyles","baseType","buttonOptions","sx"];function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function Select_slicedToArray(arr,i){return function Select_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Select_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Select_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Select_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Select_arrayLikeToArray(o,minLen)}(arr,i)||function Select_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Select_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var listener={pointEvent:null};function pointEvent(e){listener.pointEvent&&listener.pointEvent(e)}var Select_Select=function Select(_ref){var selectableLayers=_ref.selectableLayers,showSelectableLayers=_ref.showSelectableLayers,onSelectCallback=_ref.onSelectCallback,onResetCallback=_ref.onResetCallback,selectStyles=_ref.selectStyles,baseType=_ref.baseType,buttonOptions=_ref.buttonOptions,sx=_ref.sx,rest=_objectWithoutProperties(_ref,_excluded),config=Object(react.useContext)(DefaultContext.a),map=config.map,setSelectMode=config.setSelectMode,_useState2=Select_slicedToArray(Object(react.useState)("none"),2),currentMode=_useState2[0],setCurrentMode=_useState2[1],_useState4=Select_slicedToArray(Object(react.useState)(selectableLayers),2),activeSelectLayers=_useState4[0],setActiveSelectLayers=_useState4[1],_useState6=Select_slicedToArray(Object(react.useState)({}),2),selectedFeatures=_useState6[0],setSelectedFeatures=_useState6[1],_useState8=Select_slicedToArray(Object(react.useState)(),2),selectControl=_useState8[0],setSelectControl=_useState8[1],_useState10=Select_slicedToArray(Object(react.useState)(null),2),alert=_useState10[0],setAlert=_useState10[1],_useState12=Select_slicedToArray(Object(react.useState)(null),2),selectionGeometry=_useState12[0],setSelectionGeometry=_useState12[1],polyEvent=function polyEvent(e,select){var polygon=e.features[0];setSelectionGeometry(polygon),function selectByPolygon(layers,polygon,map,existingSelection,setSelectedFeatures,selectStyles){for(var updateObj={},i=0;i<layers.length;i+=1){for(var selectedFeatures=[],lyrFeatures=map.queryRenderedFeatures(null,{layers:[layers[i]]}),j=0;j<lyrFeatures.length;j+=1)try{Object(es.a)(lyrFeatures[j],polygon)||selectedFeatures.push(lyrFeatures[j])}catch(err){console.error(err)}var stringArray=selectedFeatures.map((function(feat){return JSON.stringify(feat)})),newSelection={};if((selectedFeatures=selectByPolygon_toConsumableArray(new Set(stringArray)).map((function(item){return JSON.parse(item)}))).length>0){var _newSelection;if(0===Object.keys(existingSelection).length&&existingSelection.constructor===Object)updateObj[layers[i]]=selectedFeatures,(_newSelection={})[layers[i]]=selectedFeatures,newSelection=_newSelection;else if(Object.keys(existingSelection).length>0&&existingSelection.constructor===Object){var _newSelection2;updateObj[layers[i]]=[].concat(selectByPolygon_toConsumableArray(existingSelection[layers[i]]),selectByPolygon_toConsumableArray(selectedFeatures)),(_newSelection2={})[layers[i]]=[].concat(selectByPolygon_toConsumableArray(existingSelection[layers[i]]),selectByPolygon_toConsumableArray(selectedFeatures)),newSelection=_newSelection2}var layerType=selectedFeatures[0].layer.type,sourceName=layers[i]+"-selected-src";if(util_sourceExists(map,sourceName))map.getSource(sourceName).setData({type:"FeatureCollection",features:newSelection[layers[i]]});else{map.addSource(sourceName,{type:"geojson",data:{type:"FeatureCollection",features:selectedFeatures}});var style=util_defaultSelectStyles;selectStyles&&selectStyles.fill&&selectStyles.circle&&selectStyles.line&&(style=selectStyles);var paint=void 0;switch(layerType){case"fill":layerType="line",paint=style.line.paint;break;case"line":paint=style.line.paint;break;case"circle":paint=style.circle.paint;break;default:return null}util_layerExists(map,layers[i]+"-selected")||map.addLayer({id:layers[i]+"-selected",type:layerType,source:sourceName,paint:paint})}}}return setSelectedFeatures(updateObj),!0}(activeSelectLayers,polygon,map,selectedFeatures,setSelectedFeatures,selectStyles),select.deleteAll(),setCurrentMode("none")},startSelect=function(){var _ref2=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(type){var select;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(select=selectControl||!1,selectControl){_context.next=7;break}return _context.next=4,__webpack_require__.e(0).then(__webpack_require__.t.bind(null,"./node_modules/@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.js",7)).then((function(_ref3){return new(0,_ref3.default)({displayControlsDefault:!1})}));case 4:select=_context.sent,setSelectControl(select),map.addControl(select);case 7:select.changeMode(type),_context.t0=type,_context.next="draw_point"===_context.t0?11:"draw_polygon"===_context.t0?13:15;break;case 11:return map.on("click",pointEvent),_context.abrupt("return",!0);case 13:return map.once("draw.create",(function(e){polyEvent(e,select)})),_context.abrupt("return",!0);case 15:return _context.abrupt("return",null);case 16:case"end":return _context.stop()}}),_callee)})));return function startSelect(_x){return _ref2.apply(this,arguments)}}();if(Object(react.useEffect)((function(){Object(mapExists.a)(map)&&(setSelectMode(currentMode),"none"!==currentMode&&startSelect(currentMode))}),[currentMode]),Object(react.useEffect)((function(){selectionGeometry&&(Object.keys(selectedFeatures).length>0?onSelectCallback&&onSelectCallback(selectionGeometry,selectedFeatures):onSelectCallback&&onSelectCallback(null,selectedFeatures))}),[selectedFeatures,selectionGeometry]),!Object(mapExists.a)(map))return null;var toggleSelect=function toggleSelect(mode){map.off("click",pointEvent),"none"===mode||currentMode===mode?setCurrentMode("none"):activeSelectLayers.length>0?setCurrentMode(mode):(setAlert(Object(emotion_react_jsx_runtime_browser_esm.b)("div",{style:{color:"red",margin:1,padding:1},children:"No layers have been selected!"})),setCurrentMode("none"),setTimeout((function(){setAlert(null)}),1e3))};listener.pointEvent=function(e){var point=e.point;setSelectionGeometry(point),function selectByPoint(layers,point,map,existingSelection,setSelectedFeatures,selectStyles){for(var updateObj={},i=0;i<layers.length;i+=1){var selectedFeatures=map.queryRenderedFeatures(point,{layers:[layers[i]]}),newSelection={};if(selectedFeatures.length>0){var _newSelection;if(0===Object.keys(existingSelection).length&&existingSelection.constructor===Object)updateObj[layers[i]]=selectedFeatures,(_newSelection={})[layers[i]]=selectedFeatures,newSelection=_newSelection;else if(Object.keys(existingSelection).length>0&&existingSelection.constructor===Object){var _newSelection2;updateObj[layers[i]]=[].concat(selectByPoint_toConsumableArray(existingSelection[layers[i]]),selectByPoint_toConsumableArray(selectedFeatures)),(_newSelection2={})[layers[i]]=[].concat(selectByPoint_toConsumableArray(existingSelection[layers[i]]),[selectedFeatures[0]]),newSelection=_newSelection2}var layerType=selectedFeatures[0].layer.type,sourceName=layers[i]+"-selected-src",paint=void 0;if(util_sourceExists(map,sourceName))util_layerExists(map,layers[i]+"-selected")||map.addLayer({id:layers[i]+"-selected",type:layerType,source:sourceName,paint:paint}),map.getSource(sourceName).setData({type:"FeatureCollection",features:newSelection[layers[i]]});else{map.addSource(sourceName,{type:"geojson",data:{type:"FeatureCollection",features:selectedFeatures}});var style=util_defaultSelectStyles;switch(selectStyles&&selectStyles.fill&&selectStyles.circle&&selectStyles.line&&(style=selectStyles),layerType){case"fill":layerType="line",paint=style.line.paint;break;case"line":paint=style.line.paint;break;case"circle":paint=style.circle.paint;break;default:return null}util_layerExists(map,layers[i]+"-selected")||map.addLayer({id:layers[i]+"-selected",type:layerType,source:sourceName,paint:paint})}}}return setSelectedFeatures(updateObj),!0}(activeSelectLayers,point,map,selectedFeatures,setSelectedFeatures,selectStyles);try{selectControl.deleteAll()}catch(evt){evt instanceof TypeError&&setCurrentMode("none")}};var layersSection,layerOptions=[];selectableLayers&&selectableLayers.length>0&&(layerOptions=selectableLayers.map((function(lyr){var num=Math.floor(100*Math.random());return Object(emotion_react_jsx_runtime_browser_esm.b)(Select_SelectLayerItem,{layerName:lyr,activeSelectLayers:activeSelectLayers,setActiveSelectLayers:setActiveSelectLayers},lyr+num)}))),layersSection=showSelectableLayers?Object(emotion_react_jsx_runtime_browser_esm.c)("div",{children:[Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.j,{sx:{mt:2,fontSize:[1,2]},children:"Selectable Layers"}),Object(emotion_react_jsx_runtime_browser_esm.b)(List.a,{children:layerOptions})]}):null;var drawButtons=Object(emotion_react_jsx_runtime_browser_esm.c)("div",{children:["none"!==baseType&&Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.j,{sx:{marginBottom:2,fontSize:[1,2]},children:"Selection Mode"}),Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.h,{children:Object(emotion_react_jsx_runtime_browser_esm.c)(ButtonGroup.a,{className:"select-modes",children:[Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.c,{disabled:!(activeSelectLayers.length>0),title:"Select By Point",className:"draw-tool draw-tool--point",style:"draw_point"===currentMode?{backgroundColor:"green",color:"white"}:null,onClick:function onClick(){return toggleSelect("draw_point")},children:Object(emotion_react_jsx_runtime_browser_esm.b)(index_esm.c,{})}),Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.c,{title:"Select By Polygon",disabled:!(activeSelectLayers.length>0),className:"draw-tool draw-tool--polygon",style:"draw_polygon"===currentMode?{backgroundColor:"green",color:"white"}:null,onClick:function onClick(){return toggleSelect("draw_polygon")},children:Object(emotion_react_jsx_runtime_browser_esm.b)(fa_index_esm.b,{})}),Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.c,{title:"Reset Selection",disabled:!(selectedFeatures&&Object.keys(selectedFeatures).length>0),onClick:function onClick(){!function resetSelection(){var layers=Object.keys(selectedFeatures);setSelectedFeatures({}),layers.map((function(layer){return map.getSource(layer+"-selected-src")&&map.getLayer(layer+"-selected")&&(map.removeLayer(layer+"-selected"),map.removeSource(layer+"-selected-src")),!0})),setCurrentMode("none"),selectControl.deleteAll(),onResetCallback()}()},children:"Reset"})]})})]});return Object(emotion_react_jsx_runtime_browser_esm.c)(BaseComponent.a,Object.assign({baseType:baseType||"panel",sx:sx,buttonOptions:Object.assign({icon:Object(emotion_react_jsx_runtime_browser_esm.b)(fa_index_esm.e,{}),title:"Select",testId:"cl-select-btn"},buttonOptions)},rest,{children:[drawButtons,alert,layersSection]}))};Select_Select.displayName="Select",Select_Select.__docgenInfo={description:"",methods:[],displayName:"Select"};__webpack_exports__.a=Select_Select;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Select/Select.js"]={name:"Select",docgenInfo:Select_Select.__docgenInfo,path:"src/components/Select/Select.js"})},"./src/components/Select/Select.stories.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/react/index.js");var _Select__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/components/Select/Select.js"),_Map_Map__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/components/Map/Map.js"),_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./src/components/_common/ElementsProvider.js"),_storybook_react__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js"),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/@storybook/addon-knobs/dist/index.js"),_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_21__=(__webpack_require__("./node_modules/mapbox-gl/dist/mapbox-gl.css"),__webpack_require__("./src/util/mockMapOptions.js")),_util_mockMapLayers__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./src/util/mockMapLayers.js"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var __STORY__="import React from 'react';\nimport Select from './Select';\nimport Map from '../Map/Map';\nimport ElementsProvider from '../_common/ElementsProvider';\nimport { storiesOf } from '@storybook/react';\nimport { withKnobs, radios } from '@storybook/addon-knobs';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport mapOptions from '../../util/mockMapOptions';\nimport mapLayers from '../../util/mockMapLayers';\n\nconst customMapOptions = Object.assign({}, mapOptions, {\n  center: [-100.207672, 39.581878],\n  zoom: 3,\n  bounds: null\n});\n\nconst geojsonLayer = {\n  id: 'rivers-layer',\n  type: 'line',\n  source: {\n    type: 'geojson',\n    data:\n      'https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_10m_rivers_north_america.geojson'\n  },\n  paint: {\n    'line-color': 'blue'\n  }\n};\n\nconst customStyles = {\n  fill: {\n    paint: { 'fill-color': 'red', 'fill-opacity': 0.3 }\n  },\n  line: {\n    paint: { 'line-color': 'red', 'line-width': 3 }\n  },\n  circle: {\n    paint: {\n      'circle-color': 'red',\n      'circle-opacity': 0.7,\n      'circle-radius': 10\n    }\n  }\n};\n\nstoriesOf('Select', module)\n  .addDecorator(withKnobs)\n  .add('Default', () => {\n    return (\n      <ElementsProvider>\n        <Map\n          mapOptions={customMapOptions}\n          mapLayers={[...mapLayers, geojsonLayer]}\n        />\n        <Select\n          baseType={radios('baseType', ['none', 'panel', 'button'], 'panel')}\n          selectableLayers={['states-layer', 'rivers-layer']}\n        />\n      </ElementsProvider>\n    );\n  })\n  .add('Layer Section Display', () => {\n    return (\n      <ElementsProvider>\n        <Map\n          mapOptions={customMapOptions}\n          mapLayers={[...mapLayers, geojsonLayer]}\n        />\n        <Select\n          selectableLayers={['states-layer', 'rivers-layer']}\n          panel={true}\n          showSelectableLayers\n        />\n      </ElementsProvider>\n    );\n  })\n  .add('Custom Callback', () => {\n    return (\n      <ElementsProvider>\n        <Map\n          mapOptions={customMapOptions}\n          mapLayers={[...mapLayers, geojsonLayer]}\n        />\n        <Select\n          selectableLayers={['states-layer', 'rivers-layer']}\n          baseType={radios('baseType', ['none', 'panel', 'button'], 'panel')}\n          onSelectCallback={(selectionGeometry, selectedFeatures) => {\n            for (let [key, value] of Object.entries(selectedFeatures)) {\n              alert(\n                `${key}: ${selectedFeatures[key].length} selected Features`\n              );\n            }\n          }}\n          onResetCallback={() => {\n            alert('You clicked reset!');\n          }}\n        />\n      </ElementsProvider>\n    );\n  })\n  .add('Custom Selection Style', () => {\n    return (\n      <ElementsProvider>\n        <Map\n          mapOptions={customMapOptions}\n          mapLayers={[...mapLayers, geojsonLayer]}\n        />\n        <Select\n          selectableLayers={['states-layer', 'rivers-layer']}\n          baseType={radios('baseType', ['none', 'panel', 'button'], 'panel')}\n          selectStyles={customStyles}\n        />\n      </ElementsProvider>\n    );\n  });\n",__LOCATIONS_MAP__={"custom-selection-style":{startLoc:{col:7,line:101},endLoc:{col:3,line:115},startBody:{col:33,line:101},endBody:{col:3,line:115}},"custom-callback":{startLoc:{col:7,line:77},endLoc:{col:3,line:100},startBody:{col:26,line:77},endBody:{col:3,line:100}},"layer-section-display":{startLoc:{col:7,line:62},endLoc:{col:3,line:76},startBody:{col:32,line:62},endBody:{col:3,line:76}},default:{startLoc:{col:7,line:48},endLoc:{col:3,line:61},startBody:{col:18,line:48},endBody:{col:3,line:61}}},customMapOptions=Object.assign({},_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_21__.a,{center:[-100.207672,39.581878],zoom:3,bounds:null}),geojsonLayer={id:"rivers-layer",type:"line",source:{type:"geojson",data:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_10m_rivers_north_america.geojson"},paint:{"line-color":"blue"}},customStyles={fill:{paint:{"fill-color":"red","fill-opacity":.3}},line:{paint:{"line-color":"red","line-width":3}},circle:{paint:{"circle-color":"red","circle-opacity":.7,"circle-radius":10}}};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_18__.storiesOf)("Select",module).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_19__.withKnobs).add("Default",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_17__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_16__.a,{mapOptions:customMapOptions,mapLayers:[].concat(_toConsumableArray(_util_mockMapLayers__WEBPACK_IMPORTED_MODULE_22__.a),[geojsonLayer])}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.b)(_Select__WEBPACK_IMPORTED_MODULE_15__.a,{baseType:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_19__.radios)("baseType",["none","panel","button"],"panel"),selectableLayers:["states-layer","rivers-layer"]})]})})).add("Layer Section Display",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_17__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_16__.a,{mapOptions:customMapOptions,mapLayers:[].concat(_toConsumableArray(_util_mockMapLayers__WEBPACK_IMPORTED_MODULE_22__.a),[geojsonLayer])}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.b)(_Select__WEBPACK_IMPORTED_MODULE_15__.a,{selectableLayers:["states-layer","rivers-layer"],panel:!0,showSelectableLayers:!0})]})})).add("Custom Callback",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_17__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_16__.a,{mapOptions:customMapOptions,mapLayers:[].concat(_toConsumableArray(_util_mockMapLayers__WEBPACK_IMPORTED_MODULE_22__.a),[geojsonLayer])}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.b)(_Select__WEBPACK_IMPORTED_MODULE_15__.a,{selectableLayers:["states-layer","rivers-layer"],baseType:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_19__.radios)("baseType",["none","panel","button"],"panel"),onSelectCallback:function onSelectCallback(selectionGeometry,selectedFeatures){for(var _i2=0,_Object$entries=Object.entries(selectedFeatures);_i2<_Object$entries.length;_i2++){var _ref2=_slicedToArray(_Object$entries[_i2],2),key=_ref2[0];_ref2[1];alert(key+": "+selectedFeatures[key].length+" selected Features")}},onResetCallback:function onResetCallback(){alert("You clicked reset!")}})]})})).add("Custom Selection Style",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_17__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_16__.a,{mapOptions:customMapOptions,mapLayers:[].concat(_toConsumableArray(_util_mockMapLayers__WEBPACK_IMPORTED_MODULE_22__.a),[geojsonLayer])}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.b)(_Select__WEBPACK_IMPORTED_MODULE_15__.a,{selectableLayers:["states-layer","rivers-layer"],baseType:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_19__.radios)("baseType",["none","panel","button"],"panel"),selectStyles:customStyles})]})}))}.call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/components/Zoom/Zoom.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js"),theme_ui_components_esm=__webpack_require__("./node_modules/@theme-ui/components/dist/theme-ui-components.esm.js"),index_esm=__webpack_require__("./node_modules/react-icons/fa/index.esm.js"),numeral=__webpack_require__("./node_modules/numeral/numeral.js"),numeral_default=__webpack_require__.n(numeral),DefaultContext=__webpack_require__("./src/DefaultContext.js"),BaseComponent=__webpack_require__("./src/components/_common/BaseComponent.js"),mapExists=__webpack_require__("./src/util/mapExists.js");var emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),_excluded=["circular","horizontal","controlType","showZoomLevel","sx"];function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Zoom_Zoom=function Zoom(_ref){var circular=_ref.circular,horizontal=_ref.horizontal,controlType=_ref.controlType,showZoomLevel=_ref.showZoomLevel,sx=_ref.sx,rest=_objectWithoutProperties(_ref,_excluded),map=Object(react.useContext)(DefaultContext.a).map,_useState2=_slicedToArray(Object(react.useState)((function(){return!!Object(mapExists.a)()&&map.getZoom()})),2),zoom=_useState2[0],setZoom=_useState2[1];function displayZoom(){setZoom(numeral_default()(map.getZoom()).format("0.0"))}Object(react.useEffect)((function(){Object(mapExists.a)(map)&&(map.on("load",(function(){displayZoom()})),map.on("zoom",(function(){displayZoom()})))}),[map]);var buttonStyle={borderRadius:"default",width:"32px",height:"32px",minWidth:"25px",minHeight:"25px",boxShadow:"0 0 4px rgba(0, 0, 0, .6)",padding:0,my:"2px",":hover":{bg:"secondary"}};circular&&(buttonStyle=Object.assign({},buttonStyle,{borderRadius:"circle"})),"slider"===controlType&&(buttonStyle=Object.assign({},buttonStyle,{mx:0}));var flexDirection="column";horizontal&&(flexDirection="row",buttonStyle=Object.assign({},buttonStyle,{marginRight:"4px",my:0}));var zoomLevelIndicator=null;showZoomLevel&&(zoomLevelIndicator=Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.c,{sx:Object.assign({},buttonStyle,{bg:"secondary",fontSize:0}),children:zoom}));var zoomControls,zoomInBtn=Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.c,{title:"Zoom In",sx:buttonStyle,className:"cl-zoom-btn",circular:circular,onClick:function onClick(){!function zoomIn(map){if(!Object(mapExists.a)(map))return!1;var currentZoom=Math.round(map.getZoom());return map.setZoom(currentZoom+1),!0}(map)},children:Object(emotion_react_jsx_runtime_browser_esm.b)(index_esm.l,{})}),zoomOutBtn=Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.c,{title:"Zoom Out",sx:buttonStyle,className:"cl-zoom-btn",circular:circular,onClick:function onClick(){!function zoomOut(map){if(!Object(mapExists.a)(map))return!1;var currentZoom=Math.round(map.getZoom());return map.setZoom(currentZoom-1),!0}(map)},children:Object(emotion_react_jsx_runtime_browser_esm.b)(index_esm.j,{})});return"button"===controlType||void 0===controlType?zoomControls=horizontal?Object(emotion_react_jsx_runtime_browser_esm.c)(emotion_react_jsx_runtime_browser_esm.a,{children:[zoomOutBtn,zoomLevelIndicator,zoomInBtn]}):Object(emotion_react_jsx_runtime_browser_esm.c)(emotion_react_jsx_runtime_browser_esm.a,{children:[zoomInBtn,zoomLevelIndicator,zoomOutBtn]}):"slider"===controlType?zoomControls=horizontal?Object(emotion_react_jsx_runtime_browser_esm.c)(emotion_react_jsx_runtime_browser_esm.a,{children:[zoomOutBtn,Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.r,{step:.1,min:0,max:22,value:zoom,onInput:function onInput(e){return map.setZoom(e.target.value),!0}}),zoomInBtn]}):Object(emotion_react_jsx_runtime_browser_esm.c)(theme_ui_components_esm.h,{sx:{maxWidth:"50px",flexDirection:"column",alignItems:"center"},children:[zoomInBtn,Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.r,{step:.1,min:0,max:22,sx:{width:"120px",my:"58px",transform:"rotate(270deg)"},value:zoom,onInput:function onInput(e){return map.setZoom(e.target.value),!0}}),zoomOutBtn]}):console.error("Value for 'controlType' prop on Zoom component is not recognized."),Object(emotion_react_jsx_runtime_browser_esm.b)(BaseComponent.a,Object.assign({},rest,{baseType:"none",sx:Object.assign({display:"flex",flexDirection:flexDirection,m:1},sx),className:"cl-zoom-controls",children:zoomControls}))};Zoom_Zoom.displayName="Zoom",Zoom_Zoom.__docgenInfo={description:"",methods:[],displayName:"Zoom"};__webpack_exports__.a=Zoom_Zoom;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Zoom/Zoom.js"]={name:"Zoom",docgenInfo:Zoom_Zoom.__docgenInfo,path:"src/components/Zoom/Zoom.js"})},"./src/components/Zoom/Zoom.stories.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__("./node_modules/react/index.js");var _Zoom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Zoom/Zoom.js"),_Bookmarks_Bookmarks__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Bookmarks/Bookmarks.js"),_Map_Map__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Map/Map.js"),_Home_Home__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Home/Home.js"),_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/_common/ElementsProvider.js"),_storybook_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js"),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@storybook/addon-knobs/dist/index.js"),_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__("./node_modules/mapbox-gl/dist/mapbox-gl.css"),__webpack_require__("./src/util/mockMapOptions.js")),theme_ui__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@theme-ui/components/dist/theme-ui-components.esm.js"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),__STORY__="import React from 'react';\nimport Zoom from './Zoom';\nimport Bookmarks from '../Bookmarks/Bookmarks';\nimport Map from '../Map/Map';\nimport Home from '../Home/Home';\nimport ElementsProvider from '../_common/ElementsProvider';\nimport { storiesOf } from '@storybook/react';\nimport { withKnobs, boolean, number } from '@storybook/addon-knobs';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport mapOptions from '../../util/mockMapOptions';\nimport { Flex } from 'theme-ui';\n\nstoriesOf('Zoom', module)\n  .addDecorator(withKnobs)\n  .add('Default', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={mapOptions} />\n        <Zoom\n          circular={boolean('circular', false)}\n          horizontal={boolean('horizontal', false)}\n          showZoomLevel={boolean('showZoomLevel', false)}\n        />\n      </ElementsProvider>\n    );\n  })\n  .add('Slider', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={mapOptions} />\n        <Zoom\n          circular={boolean('circular', false)}\n          horizontal={boolean('horizontal', false)}\n          controlType=\"slider\"\n        />\n      </ElementsProvider>\n    );\n  })\n  .add('Misc', () => {\n    return (\n      <ElementsProvider>\n        <Map mapOptions={mapOptions}>\n          <Flex\n            sx={{ flexDirection: 'column', justifyContent: 'space-evenly' }}\n          >\n            <Zoom\n              sx={{ position: 'relative' }}\n              circular={boolean('circular', false)}\n              horizontal={boolean('horizontal', false)}\n            />\n            <Home\n              sx={{ position: 'relative' }}\n              initBounds={mapOptions.bounds}\n            />\n            <Bookmarks baseType=\"button\" sx={{ position: 'relative' }} />\n          </Flex>\n        </Map>\n      </ElementsProvider>\n    );\n  });\n",__LOCATIONS_MAP__={misc:{startLoc:{col:7,line:39},endLoc:{col:3,line:60},startBody:{col:15,line:39},endBody:{col:3,line:60}},slider:{startLoc:{col:7,line:27},endLoc:{col:3,line:38},startBody:{col:17,line:27},endBody:{col:3,line:38}},default:{startLoc:{col:7,line:15},endLoc:{col:3,line:26},startBody:{col:18,line:15},endBody:{col:3,line:26}}};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_6__.storiesOf)("Zoom",module).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_7__.withKnobs).add("Default",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_5__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_3__.a,{mapOptions:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_9__.a}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.b)(_Zoom__WEBPACK_IMPORTED_MODULE_1__.a,{circular:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_7__.boolean)("circular",!1),horizontal:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_7__.boolean)("horizontal",!1),showZoomLevel:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_7__.boolean)("showZoomLevel",!1)})]})})).add("Slider",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.c)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_5__.a,{children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_3__.a,{mapOptions:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_9__.a}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.b)(_Zoom__WEBPACK_IMPORTED_MODULE_1__.a,{circular:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_7__.boolean)("circular",!1),horizontal:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_7__.boolean)("horizontal",!1),controlType:"slider"})]})})).add("Misc",(function(){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.b)(_common_ElementsProvider__WEBPACK_IMPORTED_MODULE_5__.a,{children:Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.b)(_Map_Map__WEBPACK_IMPORTED_MODULE_3__.a,{mapOptions:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_9__.a,children:Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.c)(theme_ui__WEBPACK_IMPORTED_MODULE_10__.h,{sx:{flexDirection:"column",justifyContent:"space-evenly"},children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.b)(_Zoom__WEBPACK_IMPORTED_MODULE_1__.a,{sx:{position:"relative"},circular:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_7__.boolean)("circular",!1),horizontal:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_7__.boolean)("horizontal",!1)}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.b)(_Home_Home__WEBPACK_IMPORTED_MODULE_4__.a,{sx:{position:"relative"},initBounds:_util_mockMapOptions__WEBPACK_IMPORTED_MODULE_9__.a.bounds}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.b)(_Bookmarks_Bookmarks__WEBPACK_IMPORTED_MODULE_2__.a,{baseType:"button",sx:{position:"relative"}})]})})})}))}.call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/components/_common/AlertModal.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/react/index.js"),theme_ui__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@theme-ui/components/dist/theme-ui-components.esm.js"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var AlertModal=function AlertModal(_ref){var message=_ref.message,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_11__.useState)(!0),2),show=_useState2[0],setShow=_useState2[1];return show?Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.b)(theme_ui__WEBPACK_IMPORTED_MODULE_12__.a,{variant:"modal",children:Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.c)(theme_ui__WEBPACK_IMPORTED_MODULE_12__.h,{sx:{flexDirection:"column"},children:[Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.b)(theme_ui__WEBPACK_IMPORTED_MODULE_12__.h,{sx:{width:"100%",position:"relative"},children:Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.b)("p",{style:{padding:1},children:message})}),Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.b)(theme_ui__WEBPACK_IMPORTED_MODULE_12__.h,{sx:{justifyContent:"flex-end"},children:Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.b)(theme_ui__WEBPACK_IMPORTED_MODULE_12__.c,{variant:"secondary",onClick:function onClick(){setShow(!1)},children:"OK"})})]})}):null};AlertModal.displayName="AlertModal",AlertModal.__docgenInfo={description:"",methods:[],displayName:"AlertModal"},__webpack_exports__.a=AlertModal,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/_common/AlertModal.js"]={name:"AlertModal",docgenInfo:AlertModal.__docgenInfo,path:"src/components/_common/AlertModal.js"})},"./src/components/_common/BaseComponent.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js"),theme_ui_components_esm=__webpack_require__("./node_modules/@theme-ui/components/dist/theme-ui-components.esm.js"),reach_popover_esm=(__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/@reach/popover/dist/reach-popover.esm.js")),reach_rect_esm=__webpack_require__("./node_modules/@reach/rect/dist/reach-rect.esm.js"),theme_ui_core_esm=__webpack_require__("./node_modules/@theme-ui/core/dist/theme-ui-core.esm.js"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),_excluded=["closable","onClose","sx","children"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var PanelComponent_PanelComponent=function PanelComponent(_ref){var closable=_ref.closable,onClose=_ref.onClose,sx=_ref.sx,children=_ref.children,rest=_objectWithoutProperties(_ref,_excluded),theme=Object(theme_ui_core_esm.e)().theme;return Object(emotion_react_jsx_runtime_browser_esm.c)(theme_ui_components_esm.d,Object.assign({className:"cl-panel-component",color:"text",sx:Object.assign({padding:3,width:"300px",borderRadius:"4px",boxShadow:"0 0 4px rgba(0, 0, 0, .6)",bg:"background"},sx,{paddingTop:closable?0:3})},rest,{children:[closable&&Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.h,{sx:{justifyContent:"flex-end",marginRight:"-"+(theme.space?theme.space[3]:16)+"px"},children:Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.f,{sx:{color:"text",height:"24px",width:"24px",":hover":{cursor:"pointer"}},onClick:onClose})}),children]}))};PanelComponent_PanelComponent.displayName="PanelComponent",PanelComponent_PanelComponent.__docgenInfo={description:"",methods:[],displayName:"PanelComponent"};var _common_PanelComponent=PanelComponent_PanelComponent;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/_common/PanelComponent.js"]={name:"PanelComponent",docgenInfo:PanelComponent_PanelComponent.__docgenInfo,path:"src/components/_common/PanelComponent.js"});var ButtonComponent_excluded=["children","buttonOptions","sx"];function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ButtonComponent_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function ButtonComponent_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var ButtonComponent_ButtonComponent=function ButtonComponent(_ref){var _rest$className,_buttonOptions$testId,_buttonOptions$varian,children=_ref.children,buttonOptions=_ref.buttonOptions,sx=_ref.sx,rest=ButtonComponent_objectWithoutProperties(_ref,ButtonComponent_excluded),ref=Object(react.useRef)(null),triggerRect=Object(reach_rect_esm.a)(ref),_useState2=_slicedToArray(Object(react.useState)(!1),2),showPanel=_useState2[0],setShowPanel=_useState2[1];return Object(emotion_react_jsx_runtime_browser_esm.c)(emotion_react_jsx_runtime_browser_esm.a,{children:[Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.c,{ref:ref,title:null==buttonOptions?void 0:buttonOptions.title,className:null!==(_rest$className=null==rest?void 0:rest.className)&&void 0!==_rest$className?_rest$className:"cl-btn","data-testid":null!==(_buttonOptions$testId=null==buttonOptions?void 0:buttonOptions.testId)&&void 0!==_buttonOptions$testId?_buttonOptions$testId:"cl-btn",variant:null!==(_buttonOptions$varian=null==buttonOptions?void 0:buttonOptions.variant)&&void 0!==_buttonOptions$varian?_buttonOptions$varian:"primary",onClick:function onClick(){if(null!=buttonOptions&&buttonOptions.intercept)try{buttonOptions.intercept()}catch(err){console.error(err)}else setShowPanel(!showPanel)},sx:Object.assign({},sx),children:null==buttonOptions?void 0:buttonOptions.icon}),showPanel&&Object(emotion_react_jsx_runtime_browser_esm.b)(reach_popover_esm.b,{style:{zIndex:sx.zIndex||2},targetRef:ref,position:function position(){return{left:(null==triggerRect?void 0:triggerRect.right)+10,top:(null==triggerRect?void 0:triggerRect.top)+window.scrollY}},children:Object(emotion_react_jsx_runtime_browser_esm.b)(_common_PanelComponent,{closable:!0,onClose:function onClose(){return setShowPanel(!1)},sx:{fontFamily:"body"},children:children})})]})};ButtonComponent_ButtonComponent.__docgenInfo={description:"",methods:[],displayName:"ButtonComponent"};var _common_ButtonComponent=ButtonComponent_ButtonComponent;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/_common/ButtonComponent.js"]={name:"ButtonComponent",docgenInfo:ButtonComponent_ButtonComponent.__docgenInfo,path:"src/components/_common/ButtonComponent.js"});var BaseComponent_excluded=["baseType","buttonOptions","children","open","sx"];function BaseComponent_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function BaseComponent_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var BaseComponent_BaseComponent=function BaseComponent(_ref){var _sx$top,_sx$left,_sx$zIndex,_sx$zIndex2,_sx$zIndex3,baseType=_ref.baseType,buttonOptions=_ref.buttonOptions,children=_ref.children,sx=(_ref.open,_ref.sx),rest=BaseComponent_objectWithoutProperties(_ref,BaseComponent_excluded),topPos=null!==(_sx$top=null==sx?void 0:sx.top)&&void 0!==_sx$top?_sx$top:"1rem",leftPos=null!==(_sx$left=null==sx?void 0:sx.left)&&void 0!==_sx$left?_sx$left:"1rem";null!=sx&&sx.bottom&&(topPos=null),null!=sx&&sx.right&&(leftPos=null);var baseStyle=Object.assign({fontFamily:"body",bg:"transparent",position:(null==sx?void 0:sx.position)||"absolute",top:topPos,left:leftPos,bottom:null==sx?void 0:sx.bottom,right:null==sx?void 0:sx.right,zIndex:null!==(_sx$zIndex=null==sx?void 0:sx.zIndex)&&void 0!==_sx$zIndex?_sx$zIndex:2},sx),panelStyle=Object.assign({fontFamily:"body",bg:"background",position:(null==sx?void 0:sx.position)||"absolute",top:topPos,left:leftPos,bottom:null==sx?void 0:sx.bottom,right:null==sx?void 0:sx.right,zIndex:null!==(_sx$zIndex2=null==sx?void 0:sx.zIndex)&&void 0!==_sx$zIndex2?_sx$zIndex2:2},sx),buttonStyle=Object.assign({fontFamily:"body",bg:(null==sx?void 0:sx.bg)||"primary",position:(null==sx?void 0:sx.position)||"absolute",top:topPos,left:leftPos,bottom:null==sx?void 0:sx.bottom,right:null==sx?void 0:sx.right,zIndex:null!==(_sx$zIndex3=null==sx?void 0:sx.zIndex)&&void 0!==_sx$zIndex3?_sx$zIndex3:2,width:"32px",height:"32px",minWidth:"25px",minHeight:"25px",p:0,m:1,boxShadow:"0 0 4px rgba(0, 0, 0, .6)"},sx),defaultType=Object(emotion_react_jsx_runtime_browser_esm.b)(theme_ui_components_esm.b,Object.assign({},rest,{sx:baseStyle,children:children}));switch(baseType){case"none":default:return defaultType;case"panel":return Object(emotion_react_jsx_runtime_browser_esm.b)(_common_PanelComponent,Object.assign({},rest,{sx:panelStyle,children:children}));case"button":return Object(emotion_react_jsx_runtime_browser_esm.b)(_common_ButtonComponent,Object.assign({children:children,buttonOptions:buttonOptions,sx:buttonStyle},rest))}};BaseComponent_BaseComponent.__docgenInfo={description:"",methods:[],displayName:"BaseComponent"};__webpack_exports__.a=BaseComponent_BaseComponent;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/_common/BaseComponent.js"]={name:"BaseComponent",docgenInfo:BaseComponent_BaseComponent.__docgenInfo,path:"src/components/_common/BaseComponent.js"})},"./src/components/_common/ElementsProvider.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/react/index.js"),theme_ui__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@theme-ui/theme-provider/dist/theme-ui-theme-provider.esm.js"),_DefaultContext__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/DefaultContext.js"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ElementsProvider=function ElementsProvider(_ref){var children=_ref.children,context=_ref.context,theme=_ref.theme,mapOverride=_ref.mapOverride,ctx=context||_DefaultContext__WEBPACK_IMPORTED_MODULE_13__.a,ContextProvider=ctx.Provider||ctx,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_11__.useState)(null),2),map=_useState2[0],setMap=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_11__.useState)("none"),2),drawMode=_useState4[0],setDrawMode=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_11__.useState)("none"),2),value={map:mapOverride||map,setMap:setMap,drawMode:drawMode,setDrawMode:setDrawMode,selectMode:_useState6[0],setSelectMode:_useState6[1]},provider=Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.b)(theme_ui__WEBPACK_IMPORTED_MODULE_12__.a,{theme:theme||{},children:children});return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.b)(ContextProvider,{value:value,children:provider})};ElementsProvider.displayName="ElementsProvider",ElementsProvider.__docgenInfo={description:"",methods:[],displayName:"ElementsProvider"},__webpack_exports__.a=ElementsProvider,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/_common/ElementsProvider.js"]={name:"ElementsProvider",docgenInfo:ElementsProvider.__docgenInfo,path:"src/components/_common/ElementsProvider.js"})},"./src/components/_primitives/ButtonGroup.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var theme_ui__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@theme-ui/components/dist/theme-ui-components.esm.js"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),_excluded=["buttons","sx","children"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var ButtonGroup=function ButtonGroup(_ref){var content,buttons=_ref.buttons,sx=_ref.sx,children=_ref.children,rest=_objectWithoutProperties(_ref,_excluded);return content=buttons||children,Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.b)(theme_ui__WEBPACK_IMPORTED_MODULE_5__.h,Object.assign({alignItems:"center"},rest,{className:"cl-button-group",sx:Object.assign({},sx,{"> button":{height:"32px",borderRadius:0,borderWidth:"0.25px",borderColor:"muted",borderStyle:"solid",":first-of-type":{borderTopLeftRadius:"default",borderBottomLeftRadius:"default",borderWidth:"0.5px",borderColor:"muted",borderStyle:"solid"},":last-child":{borderTopRightRadius:"default",borderBottomRightRadius:"default",borderWidth:"0.5px",borderColor:"muted",borderStyle:"solid"}}}),children:content}))};ButtonGroup.displayName="ButtonGroup",ButtonGroup.__docgenInfo={description:"",methods:[],displayName:"ButtonGroup"},__webpack_exports__.a=ButtonGroup,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/_primitives/ButtonGroup.js"]={name:"ButtonGroup",docgenInfo:ButtonGroup.__docgenInfo,path:"src/components/_primitives/ButtonGroup.js"})},"./src/components/_primitives/List.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/react/index.js");var theme_ui__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@theme-ui/components/dist/theme-ui-components.esm.js"),_ListItem__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/_primitives/ListItem.js"),_util_childrenExist__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/util/childrenExist.js"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),_excluded=["items","children","sx"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var List=function List(_ref){var items=_ref.items,children=_ref.children,sx=_ref.sx,rest=_objectWithoutProperties(_ref,_excluded),style=Object.assign({listStyleType:"none",padding:1},sx);return Object(_util_childrenExist__WEBPACK_IMPORTED_MODULE_8__.a)(children)?Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.b)(theme_ui__WEBPACK_IMPORTED_MODULE_6__.b,Object.assign({},rest,{as:"ul",className:"cl-list",sx:style,children:children})):!!(items&&items.length>0)&&Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.b)(theme_ui__WEBPACK_IMPORTED_MODULE_6__.b,Object.assign({},rest,{as:"ul",className:"cl-list",sx:style,children:items.map((function(item){return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.b)(_ListItem__WEBPACK_IMPORTED_MODULE_7__.a,{children:item})}))}))};List.__docgenInfo={description:"",methods:[],displayName:"List"},__webpack_exports__.a=List,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/_primitives/List.js"]={name:"List",docgenInfo:List.__docgenInfo,path:"src/components/_primitives/List.js"})},"./src/components/_primitives/ListItem.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var theme_ui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@theme-ui/components/dist/theme-ui-components.esm.js"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),ListItem=function ListItem(props){var children=props.children,selectable=props.selectable,sx=props.sx,style=selectable?Object.assign({padding:2,":hover":{cursor:"pointer",bg:"primary",color:"background"}},sx):Object.assign({padding:2},sx);return Object(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.b)(theme_ui__WEBPACK_IMPORTED_MODULE_2__.b,Object.assign({},props,{as:"li",sx:style,children:children}))};ListItem.displayName="ListItem",ListItem.__docgenInfo={description:"",methods:[],displayName:"ListItem"},__webpack_exports__.a=ListItem,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/_primitives/ListItem.js"]={name:"ListItem",docgenInfo:ListItem.__docgenInfo,path:"src/components/_primitives/ListItem.js"})},"./src/config.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={mapboxToken:"pk.eyJ1IjoiY2FydG9sYWIiLCJhIjoiY2p5ZWdyeW5hMDBlbDNjcGw5Y2h4eGpvZyJ9.jnzqd2mcV-HU85r28_A9oA"}},"./src/util/childrenExist.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js");__webpack_exports__.a=function childrenExist(children){return null!=children&&("number"==typeof children?!isNaN(children):Array.isArray(children)?children.length>0:!!children)}},"./src/util/mapExists.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.keys.js");__webpack_exports__.a=function mapExists(map){return!!(map&&Object.keys(map).length>0)&&!!(map.style&&Object.keys(map.style).length>0)}},"./src/util/mockMapLayers.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return edgeCases}));var layers=[{id:"states-layer",type:"fill",source:{type:"geojson",data:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_110m_admin_1_states_provinces_shp.geojson"},paint:{"fill-color":{property:"name_len",stops:[[5,"rgba(254, 229, 217, 0.4)"],[7,"rgba(252, 174, 145, 0.4)"],[9,"rgba(251, 106, 74, 0.4)"],[11,"rgba(203, 24, 29, 0.4)"]]},"fill-outline-color":"rgba(238, 75, 106, 1)"}},{id:"dc-art-layer",type:"circle",source:{type:"geojson",data:"https://raw.githubusercontent.com/benbalter/dc-maps/master/maps/washington-dc-public-art.geojson"},paint:{"circle-color":"#B42222","circle-radius":{stops:[[8,3],[12,4],[16,5],[18,6]]}}},{id:"football-stadiums-layer",type:"circle",source:{type:"geojson",data:"https://gist.githubusercontent.com/rajinwonderland/80b3ac9c7dc75337594fb5e711e461a7/raw/6cf57ddbe377b652345a5a44bdf0c420693ef32d/stadiums.geojson"},paint:{"circle-radius":{property:"capacity",stops:[[6e4,5],[65e3,10],[7e4,20],[75e3,30]]},"circle-opacity":.8,"circle-color":"#d3be1e"}},{id:"river-centerlines-layer",type:"line",source:{type:"geojson",data:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_50m_rivers_lake_centerlines.geojson"},paint:{"line-color":{property:"scalerank",stops:[[3,"red"],[4,"blue"],[5,"purple"]]}}}],edgeCases=[{id:"edge-expression",type:"fill",source:{type:"geojson",data:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_110m_admin_1_states_provinces_shp.geojson"},paint:{"fill-color":["match",["get","name"],["South Carolina"],"rgba(255,0,0,0.5)","rgba(0,255,0, 0.25)"]}},{id:"edge-categorical-default",type:"fill",source:{type:"geojson",data:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_110m_admin_1_states_provinces_shp.geojson"},paint:{"fill-color":{property:"name",type:"categorical",stops:[["Oregon","rgba(254, 229, 217, 0.4)"],["South Carolina","rgba(252, 174, 145, 0.4)"],["Washington","rgba(251, 106, 74, 0.4)"],["North Carolina","rgba(203, 24, 29, 0.4)"]],default:"rgba(0, 0, 255, 0.5)"}}}];__webpack_exports__.a=layers},"./src/util/mockMapOptions.js":function(module,__webpack_exports__,__webpack_require__){"use strict";var mapOptions={container:"map",style:"mapbox://styles/mapbox/streets-v11",bounds:[[-96.1642,29.7381],[-95.3841,29.8781]],center:[-95.7742,29.80814],zoom:10,accessToken:__webpack_require__("./src/config.js").a.mapboxToken};__webpack_exports__.a=mapOptions},"./src/util/useElements.js":function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_DefaultContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/DefaultContext.js");__webpack_exports__.a=function useElements(){return Object(react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_DefaultContext__WEBPACK_IMPORTED_MODULE_1__.a)}},"./storybook-init-framework-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},0:function(module,exports,__webpack_require__){__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_require__("./storybook-init-framework-entry.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-knobs/dist/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./.storybook/preview.js-generated-config-entry.js"),module.exports=__webpack_require__("./generated-stories-entry.js")},1:function(module,exports){},2:function(module,exports){}},[[0,3,4]]]);